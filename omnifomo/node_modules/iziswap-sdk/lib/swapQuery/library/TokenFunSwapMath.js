"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.queryTokenFunSwapCost = void 0;
const SwapMathY2XDesire_1 = require("./SwapMathY2XDesire");
const SwapMathX2YDesire_1 = require("./SwapMathX2YDesire");
const LogPowMath_1 = require("./LogPowMath");
const jsbi_1 = __importDefault(require("jsbi"));
function queryTokenFunSwapCost(queryData) {
    const state = {
        sqrtPrice_96: LogPowMath_1.LogPowMath.getSqrtPrice(queryData.startPoint),
        currentPoint: queryData.startPoint,
        liquidity: jsbi_1.default.BigInt(queryData.startLiquidity),
        liquidityX: jsbi_1.default.BigInt(queryData.startLiquidityX)
    };
    if (queryData.isY2X) {
        const { costY } = SwapMathY2XDesire_1.SwapMathY2XDesire.y2XRange(state, queryData.boundaryPoint, LogPowMath_1.LogPowMath.getSqrtPrice(1), jsbi_1.default.BigInt(queryData.desireAmount));
        return costY.toString();
    }
    else {
        const { costX } = SwapMathX2YDesire_1.SwapMathX2YDesire.x2YRange(state, queryData.boundaryPoint, LogPowMath_1.LogPowMath.getSqrtPrice(1), jsbi_1.default.BigInt(queryData.desireAmount));
        return costX.toString();
    }
}
exports.queryTokenFunSwapCost = queryTokenFunSwapCost;
