"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("jsbi")),n=t(require("tiny-invariant")),r=require("@ton/core"),o=t(require("big.js")),i=t(require("toformat")),a=t(require("decimal.js-light")),s=require("@ton/crypto"),u=require("@ton/ton"),c=require("crc");function l(){l=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function A(t,e,n,r){var i=Object.create((e&&e.prototype instanceof T?e:T).prototype),a=new N(r||[]);return o(i,"_invoke",{value:R(t,n,a)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=A;var f="suspendedStart",p="executing",g="completed",h={};function T(){}function I(){}function _(){}var E={};c(E,a,(function(){return this}));var O=Object.getPrototypeOf,m=O&&O(O(L([])));m&&m!==n&&r.call(m,a)&&(E=m);var C=_.prototype=T.prototype=Object.create(E);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(o,i,a,s){var u=d(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function R(e,n,r){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=d(e,n,r);if("normal"===c.type){if(o=r.done?g:"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(y,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return I.prototype=_,o(C,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:I,configurable:!0}),I.displayName=c(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===I||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},v(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(A(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function A(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){A(i,r,o,a,s,"next",t)}function s(t){A(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?o:String(o),r)}var o}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(){return(g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){var n,r;t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n=t,r=e,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(n,r)}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return T(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _=function(){function t(){}var e=t.prototype;return e.getTick=function(){var e=d(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(t.ERROR_MESSAGE);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.nextInitializedTickWithinOneWord=function(){var e=d(l().mark((function e(n,r,o){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(t.ERROR_MESSAGE);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t}();_.ERROR_MESSAGE="No tick data provider was given";var E="0:0000000000000000000000000000000000000000000000000000000000000000",O=r.Address.parse(E),m=e.BigInt(-1),C=e.BigInt(0),v=e.BigInt(1),w=e.exponentiate(e.BigInt(2),e.BigInt(96)),R=e.exponentiate(w,e.BigInt(2)),P=e.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),y="EQC_-t0nCnOFMdp7E7qPxAOCbCWGFz-e3pwxb6tTvFmshjt5",S="EQDiNOe3qNffbCsEeX-6KYWT26TT1xL7D-dqx47-qqEkp4e9",N="EQCUnExmdgwAKADi-j2KPKThyQqTc7U650cgM0g78UzZXn9J",L="EQCHHakhWxSQIWbw6ioW21YnjVKBCDd_gVjF9Mz9_dIuFy23",B=r.Cell.fromBase64("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"),x=r.Cell.fromBase64("te6cckECDQEAAloAART/APSkE/S88sgLAQIBYgIMAgLNAwsCtddtF2/ZkQ44BJL4HwaGmB9qJofSAA/DD9IAD8MWoYaH0AAPwx/QAA/DJ9AAD8Mv0AGHwzALjYSS+B8H0gGADpj+mf/CEpIGOCyJhxhvwgieOCyS+B8YbCB/l4QEBwLuIoIQPr5UMbqPa2wy+gD6APoA+gDTf9IX0hcw+ENQB6D4Y/hEUAWg+GQC+GX4ZiDCAPhD+EW+sPhE+Ea+sI6yghCBcC74yMsfFMs/+EP6AvhE+gL4Qc8WE8t/EsoXyhfJ+EIB2zxw+GNw+GRw+GVw+GaSXwTi4DAFBgAscYAYyMsFUAPPFnD6AhLLaszJgwb7AABCyPhD+gL4RPoC+EX6AvhG+gLJyPhBzxb4Qs8WzMntVNsxAl4gghBCoPtDuo6YWyCCCJiWgLzy4FOCCJiWgKH4QXDbPNsx4GwSghAL8/RHuuMCMAgJAChwgBjIywVQA88WUAP6AstqyQH7AAHc+EPCAPhEwgCx8uBQgg/ydhiCCA2J6HCCEIFwLvjIyx8Uyz/4Q/oC+ET6AvhBzxYTy38SyhfKF3D4QgLJEoBA2zxw+GNw+GRw+GVw+GbI+EP6AvhE+gL4RfoC+Eb6AsnI+EHPFvhCzxbMye1U2zEKACxxgBjIywVQBM8WUAT6AhLLaszJAfsAAEnThAEUcOgOmDgNUDiVk8T5BBh1hLVQBAiBDZSVUAcXJCB9hyGMAGWgonPaiaH0gAPww/SAA/DFqGGh9AAD8Mf0AAPwyfQAA/DL9ABh8M3wg/CF8IfwifCL8I0lL38n"),M=r.Cell.fromBase64("te6cckECFwEAA3gAART/APSkE/S88sgLAQIBYgIQAgLLAw8CASAEDgIBIAUNAvXRkQ44BJL4HwaGmBgLjYSS+B8H0gfSAY/QAYuOuQ/QAY/QAYOdTaAHgHgWmP6Z+RQQhq9mUVXUcXGi2ZfCEsY4L5cMr9IAD8Mem/gPwy6QuA/DNpC4D8M+oYaGn/gPw0af+YfDT4CHARQQgv5h6KXXGBGhpBCCNlGa1dQGCQLYMvhDE8cF8uGR+kD6QNIAMfoAcCSBAU0B+kQwWLry9CDXScIA8uLEBoIK+vCAoYIImJaAoSGUUxWgod4i1wsBwwAgkgahkTbiIML/8uGSIZI2MOMN+EKCCJiWgIIQ9Ydg7/hByCbPFss/UmBwBwgAeoIQBRONkcj4Q88WUAjPFnElBEkTVEegcIAQyMsFUAfPFlAF+gIVy2oSyx/LPyJus5RYzxcBkTLiAckB+wAA3nCAEMjLBVAHzxZQBfoCFctqEssfyz8ibrOUWM8XAZEy4gHJAfsAA44+cCOBAU0B+kQwWLry9BOCENUydttQBG1xcIAQyMsFUAfPFlAF+gIVy2oSyx/LPyJus5RYzxcBkTLiAckB+wCSbDHi+GPwEAEQ4wJfA4QP8vAKAf4B+kDTf9IX0hfUMNDT/9P/MPhCF8cF8uBS+EMVxwXy4ZH4RhK68uGZ+Ee68uGZ+EXAAPLRmPhFAbYIIcjL/1Iwy//J+En4SMjL/8v/yfhH+Eb4RfhBghDXOsCdyMsfGss/+EPPFhnLPxjLfxfKFxbKF1Igy38VzBTMyfhFUAShCwEy+GX4aPhpgED4RcAAkzCDBt5w+EJa2zzwEAwALHGAGMjLBVAEzxZQBPoCEstqzMkB+wAASdOEARRw6A6YOA1QOJWTxPkEGHWEtVAECIENlJVQBxckIH2HIYwAZf9qJoaZ+A/DD9IAD8MX0gAPwx6gD8Mmm/gPwy6QuA/DNpC4D8M+oYaGn/gPw0af+YfDTABV0+En4SMjL/8v/yfhH+Eb4RfhE+EHIyz/4Qs8W+EPPFszLf8oXyhfMye1UgIBIBEUAgEgEhMAHbijjwD/hF+Eb4R/hI+EmAANueGfAP+EOAIBIBUWAHO4/P8A/4RNDTBzH0BDD4SfhI+Ef4RvhFcMjLBxb0ABXLfxTKFxPKFxLL/8v/yfhFwwD4QfhC+ENVA4AA26jC8A/4Qo1aJhlg=="),U=r.Cell.fromBase64("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"),b=e.BigInt(2),k=[128,64,32,16,8,4,2,1].map((function(t){return[t,e.exponentiate(b,e.BigInt(t))]}));function D(t){e.greaterThan(t,C)||n(!1),e.lessThanOrEqual(t,P)||n(!1);for(var r,o=0,i=I(k);!(r=i()).done;){var a=r.value,s=a[0];e.greaterThanOrEqual(t,a[1])&&(t=e.signedRightShift(t,e.BigInt(s)),o+=s)}return o}function F(t,n){return e.signedRightShift(e.multiply(t,e.BigInt(n)),e.BigInt(128))}var V=e.exponentiate(e.BigInt(2),e.BigInt(32)),G=function(){function t(){}return t.getSqrtRatioAtTick=function(r){r>=t.MIN_TICK&&r<=t.MAX_TICK&&Number.isInteger(r)||n(!1);var o=r<0?-1*r:r,i=e.BigInt(0!=(1&o)?"0xfffcb933bd6fad37aa2d162d1a594001":"0x100000000000000000000000000000000");return 0!=(2&o)&&(i=F(i,"0xfff97272373d413259a46990580e213a")),0!=(4&o)&&(i=F(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),0!=(8&o)&&(i=F(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),0!=(16&o)&&(i=F(i,"0xffcb9843d60f6159c9db58835c926644")),0!=(32&o)&&(i=F(i,"0xff973b41fa98c081472e6896dfb254c0")),0!=(64&o)&&(i=F(i,"0xff2ea16466c96a3843ec78b326b52861")),0!=(128&o)&&(i=F(i,"0xfe5dee046a99a2a811c461f1969c3053")),0!=(256&o)&&(i=F(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),0!=(512&o)&&(i=F(i,"0xf987a7253ac413176f2b074cf7815e54")),0!=(1024&o)&&(i=F(i,"0xf3392b0822b70005940c7a398e4b70f3")),0!=(2048&o)&&(i=F(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),0!=(4096&o)&&(i=F(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),0!=(8192&o)&&(i=F(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),0!=(16384&o)&&(i=F(i,"0x70d869a156d2a1b890bb3df62baf32f7")),0!=(32768&o)&&(i=F(i,"0x31be135f97d08fd981231505542fcfa6")),0!=(65536&o)&&(i=F(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),0!=(131072&o)&&(i=F(i,"0x5d6af8dedb81196699c329225ee604")),0!=(262144&o)&&(i=F(i,"0x2216e584f5fa1ea926041bedfe98")),0!=(524288&o)&&(i=F(i,"0x48a170391f7dc42444e8fa2")),r>0&&(i=e.divide(P,i)),e.greaterThan(e.remainder(i,V),C)?e.add(e.divide(i,V),v):e.divide(i,V)},t.getTickAtSqrtRatio=function(r){e.greaterThanOrEqual(r,t.MIN_SQRT_RATIO)&&e.lessThan(r,t.MAX_SQRT_RATIO)||n(!1);var o,i=e.leftShift(r,e.BigInt(32)),a=D(i);o=e.greaterThanOrEqual(e.BigInt(a),e.BigInt(128))?e.signedRightShift(i,e.BigInt(a-127)):e.leftShift(i,e.BigInt(127-a));for(var s=e.leftShift(e.subtract(e.BigInt(a),e.BigInt(128)),e.BigInt(64)),u=0;u<14;u++){o=e.signedRightShift(e.multiply(o,o),e.BigInt(127));var c=e.signedRightShift(o,e.BigInt(128));s=e.bitwiseOr(s,e.leftShift(c,e.BigInt(63-u))),o=e.signedRightShift(o,c)}var l=e.multiply(s,e.BigInt("255738958999603826347141")),A=e.toNumber(e.signedRightShift(e.subtract(l,e.BigInt("3402992956809132418596140100660247210")),e.BigInt(128))),d=e.toNumber(e.signedRightShift(e.add(l,e.BigInt("291339464771989622907027621153398088495")),e.BigInt(128)));return A===d?A:e.lessThanOrEqual(t.getSqrtRatioAtTick(d),r)?d:A},t}();function q(t,e){for(var n=0;n<t.length-1;n++)if(e(t[n],t[n+1])>0)return!1;return!0}function Q(t,e){return t.index-e.index}G.MIN_TICK=-887272,G.MAX_TICK=-G.MIN_TICK,G.MIN_SQRT_RATIO=e.BigInt("4295128739"),G.MAX_SQRT_RATIO=e.BigInt("1461446703485210103287273052203988822378723970342");var j,Y,H,J,W,X,z=function(){function t(){}return t.validateList=function(t,r){r>0||n(!1),t.every((function(t){return t.index%r==0}))||n(!1),e.equal(t.reduce((function(t,n){return e.add(t,n.liquidityNet)}),C),C)||n(!1),q(t,Q)||n(!1)},t.isBelowSmallest=function(t,e){return t.length>0||n(!1),e<t[0].index},t.isAtOrAboveLargest=function(t,e){return t.length>0||n(!1),e>=t[t.length-1].index},t.getTick=function(t,e){var r=t[this.binarySearch(t,e)];return r.index!==e&&n(!1),r},t.nextInitializedTick=function(e,r,o){return o?(t.isBelowSmallest(e,r)&&n(!1),t.isAtOrAboveLargest(e,r)?e[e.length-1]:e[this.binarySearch(e,r)]):(this.isAtOrAboveLargest(e,r)&&n(!1),this.isBelowSmallest(e,r)?e[0]:e[this.binarySearch(e,r)+1])},t.nextInitializedTickWithinOneWord=function(e,n,r,o){var i=Math.floor(n/o);if(r){var a=(i>>8<<8)*o;if(t.isBelowSmallest(e,n))return[a,!1];var s=t.nextInitializedTick(e,n,r).index,u=Math.max(a,s);return[u,u===s]}var c=(1+(i+1>>8)<<8)*o-1;if(this.isAtOrAboveLargest(e,n))return[c,!1];var l=this.nextInitializedTick(e,n,r).index,A=Math.min(c,l);return[A,A===l]},t.binarySearch=function(t,e){this.isBelowSmallest(t,e)&&n(!1);for(var r,o=0,i=t.length-1;;){if(t[r=Math.floor((o+i)/2)].index<=e&&(r===t.length-1||t[r+1].index>e))return r;t[r].index<e?o=r+1:i=r-1}},t}(),K=function(t){var r=t.index,o=t.liquidityGross,i=t.liquidityNet;r>=G.MIN_TICK&&r<=G.MAX_TICK||n(!1),this.index=r,this.liquidityGross=e.BigInt(o),this.liquidityNet=e.BigInt(i)},Z=function(){function t(t,e){var n=t.map((function(t){return t instanceof K?t:new K(t)}));z.validateList(n,e),this.ticks=n}var e=t.prototype;return e.getTick=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",z.getTick(this.ticks,e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.nextInitializedTickWithinOneWord=function(){var t=d(l().mark((function t(e,n,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",z.nextInitializedTickWithinOneWord(this.ticks,e,n,r));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),t}();(j=exports.Rounding||(exports.Rounding={}))[j.ROUND_DOWN=0]="ROUND_DOWN",j[j.ROUND_HALF_UP=1]="ROUND_HALF_UP",j[j.ROUND_UP=2]="ROUND_UP",(Y=exports.Bound||(exports.Bound={})).LOWER="LOWER",Y.UPPER="UPPER",(H=exports.Field||(exports.Field={})).CURRENCY_A="CURRENCY_A",H.CURRENCY_B="CURRENCY_B",(J=exports.TradeType||(exports.TradeType={}))[J.EXACT_INPUT=0]="EXACT_INPUT",J[J.EXACT_OUTPUT=1]="EXACT_OUTPUT";var $=i(a),tt=i(o),et=((W={})[exports.Rounding.ROUND_DOWN]=$.ROUND_DOWN,W[exports.Rounding.ROUND_HALF_UP]=$.ROUND_HALF_UP,W[exports.Rounding.ROUND_UP]=$.ROUND_UP,W),nt=((X={})[exports.Rounding.ROUND_DOWN]=0,X[exports.Rounding.ROUND_HALF_UP]=1,X[exports.Rounding.ROUND_UP]=3,X),rt=function(){function t(t,n){void 0===n&&(n=e.BigInt(1)),this.numerator=e.BigInt(t),this.denominator=e.BigInt(n)}t.tryParseFraction=function(n){if(n instanceof e||"number"==typeof n||"string"==typeof n)return new t(n);if("numerator"in n&&"denominator"in n)return n;throw new Error("Could not parse fraction")};var r=t.prototype;return r.invert=function(){return new t(this.denominator,this.numerator)},r.add=function(n){var r=t.tryParseFraction(n);return e.equal(this.denominator,r.denominator)?new t(e.add(this.numerator,r.numerator),this.denominator):new t(e.add(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator)),e.multiply(this.denominator,r.denominator))},r.subtract=function(n){var r=t.tryParseFraction(n);return e.equal(this.denominator,r.denominator)?new t(e.subtract(this.numerator,r.numerator),this.denominator):new t(e.subtract(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator)),e.multiply(this.denominator,r.denominator))},r.lessThan=function(n){var r=t.tryParseFraction(n);return e.lessThan(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator))},r.equalTo=function(n){var r=t.tryParseFraction(n);return e.equal(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator))},r.greaterThan=function(n){var r=t.tryParseFraction(n);return e.greaterThan(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator))},r.multiply=function(n){var r=t.tryParseFraction(n);return new t(e.multiply(this.numerator,r.numerator),e.multiply(this.denominator,r.denominator))},r.divide=function(n){var r=t.tryParseFraction(n);return new t(e.multiply(this.numerator,r.denominator),e.multiply(this.denominator,r.numerator))},r.toSignificant=function(t,e,r){void 0===e&&(e={groupSeparator:""}),void 0===r&&(r=exports.Rounding.ROUND_HALF_UP),Number.isInteger(t)||n(!1),t>0||n(!1),$.set({precision:t+1,rounding:et[r]});var o=new $(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return o.toFormat(o.decimalPlaces(),e)},r.toFixed=function(t,e,r){return void 0===e&&(e={groupSeparator:""}),void 0===r&&(r=exports.Rounding.ROUND_HALF_UP),Number.isInteger(t)||n(!1),t>=0||n(!1),tt.DP=t,tt.RM=nt[r],new tt(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,e)},p(t,[{key:"quotient",get:function(){return e.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new t(e.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new t(this.numerator,this.denominator)}}]),t}(),ot=i(o),it=function(t){function r(r,o,i){var a;return a=t.call(this,o,i)||this,e.lessThanOrEqual(a.quotient,P)||n(!1),a.jetton=r,a.decimalScale=e.exponentiate(e.BigInt(10),e.BigInt(r.decimals)),a}h(r,t),r.fromRawAmount=function(t,e){return new r(t,e)},r.fromFractionalAmount=function(t,e,n){return new r(t,e,n)};var o=r.prototype;return o.add=function(e){this.jetton.equals(e.jetton)||n(!1);var o=t.prototype.add.call(this,e);return r.fromFractionalAmount(this.jetton,o.numerator,o.denominator)},o.subtract=function(e){this.jetton.equals(e.jetton)||n(!1);var o=t.prototype.subtract.call(this,e);return r.fromFractionalAmount(this.jetton,o.numerator,o.denominator)},o.multiply=function(e){var n=t.prototype.multiply.call(this,e);return r.fromFractionalAmount(this.jetton,n.numerator,n.denominator)},o.divide=function(e){var n=t.prototype.divide.call(this,e);return r.fromFractionalAmount(this.jetton,n.numerator,n.denominator)},o.toSignificant=function(e,n,r){return void 0===e&&(e=6),void 0===r&&(r=exports.Rounding.ROUND_DOWN),t.prototype.divide.call(this,this.decimalScale).toSignificant(e,n,r)},o.toFixed=function(e,r,o){return void 0===e&&(e=this.jetton.decimals),void 0===o&&(o=exports.Rounding.ROUND_DOWN),e<=this.jetton.decimals||n(!1),t.prototype.divide.call(this,this.decimalScale).toFixed(e,r,o)},o.toExact=function(t){return void 0===t&&(t={groupSeparator:""}),ot.DP=this.jetton.decimals,new ot(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(t)},p(r,[{key:"wrapped",get:function(){return r.fromFractionalAmount(this.jetton,this.numerator,this.denominator)}}]),r}(rt),at=function(){function t(){}return t.mulDivRoundingUp=function(t,n,r){var o=e.multiply(t,n),i=e.divide(o,r);return e.notEqual(e.remainder(o,r),C)&&(i=e.add(i,v)),i},t}(),st=e.subtract(e.exponentiate(e.BigInt(2),e.BigInt(160)),v);function ut(t,n){var r=e.multiply(t,n);return e.bitwiseAnd(r,P)}var ct=function(){function t(){}return t.getAmount0Delta=function(t,n,r,o){if(e.greaterThan(t,n)){var i=[n,t];t=i[0],n=i[1]}var a=e.leftShift(r,e.BigInt(96)),s=e.subtract(n,t);return o?at.mulDivRoundingUp(at.mulDivRoundingUp(a,s,n),v,t):e.divide(e.divide(e.multiply(a,s),n),t)},t.getAmount1Delta=function(t,n,r,o){if(e.greaterThan(t,n)){var i=[n,t];t=i[0],n=i[1]}return o?at.mulDivRoundingUp(r,e.subtract(n,t),w):e.divide(e.multiply(r,e.subtract(n,t)),w)},t.getNextSqrtPriceFromInput=function(t,r,o,i){return e.greaterThan(t,C)||n(!1),e.greaterThan(r,C)||n(!1),i?this.getNextSqrtPriceFromAmount0RoundingUp(t,r,o,!0):this.getNextSqrtPriceFromAmount1RoundingDown(t,r,o,!0)},t.getNextSqrtPriceFromOutput=function(t,r,o,i){return e.greaterThan(t,C)||n(!1),e.greaterThan(r,C)||n(!1),i?this.getNextSqrtPriceFromAmount1RoundingDown(t,r,o,!1):this.getNextSqrtPriceFromAmount0RoundingUp(t,r,o,!1)},t.getNextSqrtPriceFromAmount0RoundingUp=function(t,r,o,i){if(e.equal(o,C))return t;var a,s=e.leftShift(r,e.BigInt(96));if(i){var u=ut(o,t);if(e.equal(e.divide(u,o),t)){var c=(a=e.add(s,u),e.bitwiseAnd(a,P));if(e.greaterThanOrEqual(c,s))return at.mulDivRoundingUp(s,t,c)}return at.mulDivRoundingUp(s,v,e.add(e.divide(s,t),o))}var l=ut(o,t);e.equal(e.divide(l,o),t)||n(!1),e.greaterThan(s,l)||n(!1);var A=e.subtract(s,l);return at.mulDivRoundingUp(s,t,A)},t.getNextSqrtPriceFromAmount1RoundingDown=function(t,r,o,i){if(i){var a=e.lessThanOrEqual(o,st)?e.divide(e.leftShift(o,e.BigInt(96)),r):e.divide(e.multiply(o,w),r);return e.add(t,a)}var s=at.mulDivRoundingUp(o,w,r);return e.greaterThan(t,s)||n(!1),e.subtract(t,s)},t}(),lt=e.exponentiate(e.BigInt(10),e.BigInt(6)),At=function(){function t(){}return t.computeSwapStep=function(t,n,r,o,i){var a={},s=e.greaterThanOrEqual(t,n),u=e.greaterThanOrEqual(o,C);if(u){var c=e.divide(e.multiply(o,e.subtract(lt,e.BigInt(i))),lt);a.amountIn=s?ct.getAmount0Delta(n,t,r,!0):ct.getAmount1Delta(t,n,r,!0),a.sqrtRatioNextX96=e.greaterThanOrEqual(c,a.amountIn)?n:ct.getNextSqrtPriceFromInput(t,r,c,s)}else a.amountOut=s?ct.getAmount1Delta(n,t,r,!1):ct.getAmount0Delta(t,n,r,!1),a.sqrtRatioNextX96=e.greaterThanOrEqual(e.multiply(o,m),a.amountOut)?n:ct.getNextSqrtPriceFromOutput(t,r,e.multiply(o,m),s);var l=e.equal(n,a.sqrtRatioNextX96);return s?(a.amountIn=l&&u?a.amountIn:ct.getAmount0Delta(a.sqrtRatioNextX96,t,r,!0),a.amountOut=l&&!u?a.amountOut:ct.getAmount1Delta(a.sqrtRatioNextX96,t,r,!1)):(a.amountIn=l&&u?a.amountIn:ct.getAmount1Delta(t,a.sqrtRatioNextX96,r,!0),a.amountOut=l&&!u?a.amountOut:ct.getAmount0Delta(t,a.sqrtRatioNextX96,r,!1)),!u&&e.greaterThan(a.amountOut,e.multiply(o,m))&&(a.amountOut=e.multiply(o,m)),a.feeAmount=u&&e.notEqual(a.sqrtRatioNextX96,n)?e.subtract(o,a.amountIn):at.mulDivRoundingUp(a.amountIn,e.BigInt(i),e.subtract(lt,e.BigInt(i))),[a.sqrtRatioNextX96,a.amountIn,a.amountOut,a.feeAmount]},t}(),dt=function(){function t(){}return t.addDelta=function(t,n){return e.lessThan(n,C)?e.subtract(t,e.multiply(n,m)):e.add(t,n)},t}(),ft=function(t){function r(){for(var n,r,o,i,a,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(4===u.length)r=u[0],o=u[1],i=u[2],a=u[3];else{var l=u[0].quoteAmount.divide(u[0].baseAmount),A=[u[0].baseAmount.jetton,u[0].quoteAmount.jetton,l.denominator,l.numerator];r=A[0],o=A[1],i=A[2],a=A[3]}return(n=t.call(this,a,i)||this).baseCurrency=r,n.quoteCurrency=o,n.scalar=new rt(e.exponentiate(e.BigInt(10),e.BigInt(r.decimals)),e.exponentiate(e.BigInt(10),e.BigInt(o.decimals))),n}h(r,t);var o=r.prototype;return o.invert=function(){return new r(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},o.multiply=function(e){this.quoteCurrency.equals(e.baseCurrency)||n(!1);var o=t.prototype.multiply.call(this,e);return new r(this.baseCurrency,e.quoteCurrency,o.denominator,o.numerator)},o.quote=function(e){e.jetton.equals(this.baseCurrency)||n(!1);var r=t.prototype.multiply.call(this,e);return it.fromFractionalAmount(this.quoteCurrency,r.numerator,r.denominator)},o.toSignificant=function(t,e,n){return void 0===t&&(t=6),this.adjustedForDecimals.toSignificant(t,e,n)},o.toFixed=function(t,e,n){return void 0===t&&(t=4),this.adjustedForDecimals.toFixed(t,e,n)},p(r,[{key:"adjustedForDecimals",get:function(){return t.prototype.multiply.call(this,this.scalar)}},{key:"asFraction",get:function(){return new rt(this.adjustedForDecimals.numerator,this.adjustedForDecimals.denominator)}}]),r}(rt),pt=function(){};pt.ACCOUNTV3_RESET_GAS=1117846339,pt.ACCOUNTV3_ADD_LIQUIDITY=1052660785,pt.ACCOUNTV3_CB_ADD_LIQUIDITY=1457515402,pt.ACCOUNTV3_GETTER_LP_ACCOUNT_DATA=490969824,pt.ACCOUNTV3_DIRECT_ADD_LIQUIDITY=1291331587,pt.ACCOUNTV3_REFUND_ME=200537159,pt.ACCOUNTV3_CB_REFUND_ME=2302962242,pt.JETTON_PROVIDE_WALLET_ADDRESS=745978227,pt.JETTON_TAKE_WALLET_ADDRESS=3513996288,pt.JETTON_TRANSFER=260734629,pt.JETTON_TRANSFER_NOTIFICATION=1935855772,pt.JETTON_INTERNAL_TRANSFER=395134233,pt.JETTON_EXCESSES=3576854235,pt.JETTON_BURN=1499400124,pt.JETTON_BURN_NOTIFICATION=2078119902,pt.JETTON_MINT=21,pt.NFT_TRANSFER=1607220500,pt.NFT_OWNERSHIP_ASSIGNED=85167505,pt.NFT_EXCESSES=3576854235,pt.NFT_GET_STATIC_DATA=801842850,pt.NFT_REPORT_STATIC_DATA=2339837749,pt.NFT_GET_ROYALTY_PARAMS=1765620048,pt.NFT_REPORT_ROYALTY_PARAMS=2831876269,pt.NFT_EDIT_CONTENT=436968785,pt.NFT_TRANSFER_EDITORSHIP=470040874,pt.NFT_EDITORSHIP_ASSIGNED=1360675939,pt.POOL_FACTORY_CHANGE_PARAMS=2853024727,pt.POOL_FACTORY_CREATE_POOL=2660929407,pt.POOL_FACTORY_RESET_GAS=1117846339,pt.POOL_FACTORY_ORDER_INIT=2340806243,pt.POOL_FACTORY_EXECUTE=3568515850,pt.POOLV3_INIT=1142700525,pt.POOLV3_LOCK=99042967,pt.POOLV3_UNLOCK=839232957,pt.POOLV3_SET_FEE=1809628856,pt.POOLV3_SWAP=2818267384,pt.POOLV3_FUND_ACCOUNT=1147723383,pt.POOLV3_MINT=2171612920,pt.POOLV3_START_BURN=1393254188,pt.POOLV3_BURN=3610951837,pt.POOLV3_COLLECT_PROTOCOL=3556287800,pt.POOLV3_RESET_GAS=1117846339,pt.POOLV3_MINT_M=3686251349,pt.POOLV3_BURN_M=3862520940,pt.POOLV3_SWAP_M=3683725347,pt.POOLV3_FILL_TICK_M=2148768470,pt.POSITIONNFTV3_NFT_TRANSFER=1607220500,pt.POSITIONNFTV3_OWNERSHIP_ASSIGNED=85167505,pt.POSITIONNFTV3_EXCESSES=3576854235,pt.POSITIONNFTV3_GET_STATIC_DATA=801842850,pt.POSITIONNFTV3_REPORT_STATIC_DATA=2339837749,pt.POSITIONNFTV3_GET_ROYALTY_PARAMS=1765620048,pt.POSITIONNFTV3_REPORT_ROYALTY_PARAMS=2831876269,pt.POSITIONNFTV3_POSITION_INIT=3589065258,pt.POSITIONNFTV3_POSITION_BURN=1187656538,pt.POSITIONNFTV3_FEE_COLLECTED=1592132511,pt.POSITIONNFTV3_OWNERSHIP_ASSIGNED_NOTIFY=4119290095,pt.POSITIONNFTV3_EDIT_CONTENT=436968785,pt.POSITIONNFTV3_TRANSFER_EDITORSHIP=470040874,pt.POSITIONNFTV3_EDITORSHIP_ASSIGNED=1360675939,pt.ROUTERTV3_ADD_POOL=1540053636,pt.ROUTERTV3_CHANGE_ADMIN=188465300,pt.ROUTERV3_PAY_TO=2715461997,pt.ROUTERV3_CREATE_POOL=774911215,pt.ROUTERV3_RESET_GAS=1117846339,pt.ROUTERV3_CHANGE_ADMIN_START=3571363899,pt.ROUTERV3_CHANGE_ADMIN_COMMIT=2562376709,pt.ROUTERV3_CHANGE_PARAMS=2281694051,pt.SINKV3_SET=3860080092,pt.SINKV3_ADD=4246369255,pt.SINKV3_TEST_GAS=120815319,pt.SINKV3_DUMMY=4294967022,pt.TONPROXY_MINTER_PROVIDE_WALLET_ADDRESS=745978227,pt.TONPROXY_MINTER_TAKE_WALLET_ADDRESS=3513996288,pt.TONPROXY_MINTER_DEPLOY_WALLET=3479126803,pt.TONPROXY_MINTER_INTERNAL_DEPLOY=1698746245,pt.TONPROXY_MINTER_TON_TRANSFER=32736093,pt.TONPROXY_MINTER_RESET_GAS=701638965,pt.TONPROXY_MINTER_TON_REFUND=2921715614;var gt=function(){};gt.COMMON_WRONG_OP=65535,gt.COMMON_WRONG_WORKCHAIN=333,gt.JETTON_INVALID_OP=709,gt.JETTON_NOT_ADMIN=73,gt.JETTON_UNOUTHORIZED_BURN=74,gt.JETTON_DISCOVERY_FEE_NOT_MATCHED=75,gt.JETTON_NOT_OWNER=705,gt.JETTON_NOT_ENOUGH_TON=709,gt.JETTON_NOT_ENOUGH_GAS=707,gt.JETTON_NOT_VALID_WALLET=707,gt.JETTON_BALANCE_ERROR=706,gt.NFT_NOT_OWNER=401,gt.POOL_FACTORY_INVALID_AMOUNT=110,gt.POOL_FACTORY_INVALID_CALLER=111,gt.POOL_FACTORY_POOL_ILLEGAL_PARAMS=112,gt.POOL_FACTORY_INSUFFICIENT_GAS=113,gt.POOLV3_NO_LIQUIDITY=80,gt.POOLV3_ZERO_OUTPUT=81,gt.POOLV3_INVALID_CALLER=82,gt.POOLV3_INSUFFICIENT_GAS=83,gt.POOLV3_INVALID_TOKEN=86,gt.POOLV3_LOW_AMOUNT=87,gt.POOLV3_MATH_ERROR=90,gt.POOLV3_TICK_IMPOSSIBLE_LOW=91,gt.POOLV3_TICK_IMPOSSIBLE_HIGH=92,gt.POOLV3_PRICE_IMPOSSIBLE_LOW=93,gt.POOLV3_PRICE_IMPOSSIBLE_HIGH=94,gt.POOLV3_PRICE_LIMIT_WRONG=95,gt.POOLV3_LOWER_THEN_MIN_OUT=96,gt.POOLV3_INVALID_RECIPIENT=100,gt.POOLV3_POOL_UNDEPLOYED=101,gt.POOLV3_POOL_INACTIVE=102,gt.POOLV3_FORGED_NFT=103,gt.POOLV3_BURN_PARAMETERS_WRONG=104,gt.POOLV3_RESERVES_PROTECTION_ERROR_SIGN=105,gt.POOLV3_RESERVES_PROTECTION_ERROR_DRAIN=106,gt.POOLV3_POOL_MALFORMED=107,gt.POOLV3_RESULT_SWAP_OK=200,gt.POOLV3_RESULT_BURN_OK=201,gt.POOLV3_RESULT_MINT_OK=202,gt.POOLV3_RESULT_COLLECT_OK=203,gt.POOLV3_RESULT_SWAP_OUTPUT_TOO_SMALL=230,gt.POOLV3_RESULT_TICK_IMPOSSIBLE_LOW=220,gt.POOLV3_RESULT_TICK_IMPOSSIBLE_HIGH=221,gt.POOLV3_RESULT_WRONG_TICK_SPACING=222,gt.POOLV3_RESULT_TOO_MANY_TICKS=223,gt.POOLV3_RESULT_TOO_MUCH_LIQUIDITY=224,gt.POOLV3_RESULT_NOT_ENOUGH_COINS=225,gt.POOLV3_RESULT_NO_LIQUIDITY=226,gt.POSITIONNFTV3_INVALID_CALLER=82,gt.POSITIONNFTV3_INIT_NOT_BY_COLLECTION=405,gt.POSITIONNFTV3_NOT_AN_OWNER=401,gt.POSITIONNFTV3_ALREADY_BURNED=408,gt.POSITIONNFTV3_WRONG_BURN_TICKS=409,gt.POSITIONNFTV3_MESSAGE_TOO_LONG=708,gt.ROUTERV3_INVALID_AMOUNT=110,gt.ROUTERV3_INVALID_CALLER=111,gt.ROUTERV3_POOL_ILLEGAL_PARAMS=112,gt.ROUTERV3_INSUFFICIENT_GAS=113,gt.ROUTERV3_TIMELOCK_NOT_RESPECTED=114;var ht=["uri","name","description","image","image_data","symbol","decimals","amount_style"],Tt=["uri","name","description","image","image_data","content_url","cover_image","attributes"],It={name:"utf8",description:"utf8",image:"ascii",decimals:"utf8",symbol:"utf8",image_data:void 0,uri:"ascii",content_url:"ascii",cover_image:"ascii",attributes:"ascii"};function _t(t){if(t in It)return It[t]}var Et={serialize:function(t,e){e.storeRef(r.beginCell().storeUint(0,8).storeStringTail(t).endCell())},parse:function(t){var e=t.loadRef().beginParse(),n=e.loadUint(8);if(0==n)return e.loadStringTail();if(1==n)return r.Dictionary.loadDirect(r.Dictionary.Keys.Uint(32),r.Dictionary.Values.Cell(),e).values().map((function(t){return t.beginParse().loadStringTail()})).join("");throw Error("Prefix "+n+" is not supported yet")}};function Ot(t){var e=r.Dictionary.empty(r.Dictionary.Keys.BigUint(256),Et);for(var n in t){var o=t[n];if(!_t(n))throw new Error("Unsupported onchain key: "+n);if(void 0!==o&&""!==o){var i=Buffer.from(o,_t(n)),a="0x"+s.sha256_sync(n).toString("hex");e.set(BigInt(a),i.toString())}}return r.beginCell().storeInt(0,8).storeDict(e).endCell()}var mt=function(t,e,n,r){void 0===t&&(t=BigInt(0)),void 0===e&&(e=BigInt(0)),void 0===n&&(n=BigInt(0)),void 0===r&&(r=BigInt(0)),this.liquidityGross=t,this.liquidityNet=e,this.outerFeeGrowth0Token=n,this.outerFeeGrowth1Token=r},Ct={serialize:function(t,e){e.storeUint(t.liquidityGross,256),e.storeInt(t.liquidityNet,128),e.storeUint(t.outerFeeGrowth0Token,256),e.storeUint(t.outerFeeGrowth1Token,256)},parse:function(t){var e=new mt;return e.liquidityGross=t.loadUintBig(256),e.liquidityNet=t.loadIntBig(128),e.outerFeeGrowth0Token=t.loadUintBig(256),e.outerFeeGrowth1Token=t.loadUintBig(256),e}},vt={name:"AMM Pool Minter",description:"AMM Pool LP Minter",cover_image:"https://tonco.io/static/tonco-cover.jpeg",image:"https://tonco.io/static/tonco-astro.png"},wt=Ot(vt),Rt={name:"AMM Pool Position",description:"LP Position",image:"https://tonco.io/static/tonco-astro.png"},Pt=Ot(Rt);function yt(t){var e,n,o,i,a,s,u,c,l,A,d=r.Dictionary.empty(r.Dictionary.Keys.Int(24),Ct);return r.beginCell().storeAddress(t.router_address).storeUint(null!=(e=t.lp_fee_base)?e:30,16).storeUint(null!=(n=t.protocol_fee)?n:30,16).storeUint(null!=(o=t.lp_fee_current)?o:30,16).storeAddress(t.jetton0_wallet).storeAddress(t.jetton1_wallet).storeUint(null!=(i=t.tick_spacing)?i:1,24).storeUint(0,64).storeRef(r.beginCell().storeUint(BigInt(0),256).storeUint(BigInt(0),256).storeUint(BigInt(0),128).storeUint(BigInt(0),128).storeCoins(BigInt(0)).storeCoins(BigInt(0)).endCell()).storeRef(r.beginCell().storeUint(0,1).storeInt(null!=(a=t.tick)?a:0,24).storeUint(null!=(s=t.price_sqrt)?s:0,160).storeUint(null!=(u=t.liquidity)?u:0,128).storeUint(0,24).storeUint(0,64).storeUint(0,64).storeAddress(null!=(c=t.admin_address)?c:O).storeAddress(O).storeRef(r.beginCell().storeAddress(O).storeAddress(O).endCell()).endCell()).storeRef(r.beginCell().storeDict(d).endCell()).storeRef(r.beginCell().storeRef(t.accountv3_code).storeRef(t.position_nftv3_code).storeRef(null!=(l=t.nftContent)?l:new r.Cell).storeRef(null!=(A=t.nftItemContent)?A:new r.Cell).endCell()).endCell()}var St=function(){function t(t,e){this.address=t,this.init=e}t.orderJettonId=function(t,e){var n=r.beginCell().storeAddress(t).endCell().hash().toString("hex"),o=r.beginCell().storeAddress(e).endCell().hash().toString("hex");return BigInt("0x"+n)>BigInt("0x"+o)},t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:yt(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o,i,a,s){var u,c,A,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.activate_pool||(s.activate_pool=!1),A=null,s.jetton0Minter&&s.jetton0Minter&&(A=r.beginCell().storeAddress(s.jetton0Minter).storeAddress(s.jetton1Minter).endCell()),null==s.is_from_admin&&(s.is_from_admin=!0),d=r.beginCell().storeUint(pt.POOLV3_INIT,32).storeUint(0,64).storeUint(s.is_from_admin?1:0,1).storeUint(s.admin?1:0,1).storeAddress(s.admin).storeUint(s.controller?1:0,1).storeAddress(s.controller).storeUint(1,1).storeUint(i,24).storeUint(1,1).storeUint(a,160).storeUint(1,1).storeUint(s.activate_pool?1:0,1).storeUint(s.protocolFee?s.protocolFee:10001,16).storeUint(s.lpFee?s.lpFee:10001,16).storeUint(s.currentFee?s.currentFee:10001,16).storeRef(null!=(u=s.nftContentPacked)?u:wt).storeRef(null!=(c=s.nftItemContentPacked)?c:Pt).storeMaybeRef(A).endCell(),t.next=7,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:d});case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),t.reinitMessage=function(t){var e,n,o,i;null==t.is_from_admin&&(t.is_from_admin=!0);var a=null;return t.jetton0Minter&&t.jetton0Minter&&(a=r.beginCell().storeAddress(t.jetton0Minter).storeAddress(t.jetton1Minter).endCell()),r.beginCell().storeUint(pt.POOLV3_INIT,32).storeUint(0,64).storeUint(t.is_from_admin?1:0,1).storeUint(null==t.admin?0:1,1).storeAddress(t.admin).storeUint(null==t.controller?0:1,1).storeAddress(t.controller).storeUint(null==t.tickSpacing?0:1,1).storeUint(null!=(e=t.tickSpacing)?e:0,24).storeUint(null==t.sqrtPriceX96?0:1,1).storeUint(null!=(n=t.sqrtPriceX96)?n:0,160).storeUint(null==t.activate_pool?0:1,1).storeUint(t.activate_pool?1:0,1).storeUint(t.protocolFee?t.protocolFee:10001,16).storeUint(t.lpFee?t.lpFee:10001,16).storeUint(t.currentFee?t.currentFee:10001,16).storeRef(null!=(o=t.nftContentPacked)?o:r.beginCell().endCell()).storeRef(null!=(i=t.nftItemContentPacked)?i:r.beginCell().endCell()).storeMaybeRef(a).endCell()},t.unpackReinitMessage=function(t){var e=t.beginParse(),n=(e.loadUint(32),e.loadUint(64),0!=e.loadUint(1)),r=e.loadUint(1),o=1==r?e.loadAddress():void 0;0==r&&e.loadUint(2);var i=e.loadUint(1),a=1==i?e.loadAddress():void 0;0==i&&e.loadUint(2);var s=e.loadUint(1),u=e.loadUint(24),c=0!=s?u:void 0,l=e.loadUint(1),A=e.loadUintBig(160),d=0!=l?A:void 0,f=e.loadUint(1),p=1==e.loadUint(1),g=0!=f?p:void 0,h=e.loadUint(16),T=h<10001?h:void 0,I=e.loadUint(16),_=I<10001?I:void 0,E=e.loadUint(16),O=E<10001?E:void 0;return{is_from_admin:n,admin:o,controller:a,tickSpacing:c,sqrtPriceX96:d,activate_pool:g,nftContentPacked:e.loadRef(),nftItemContentPacked:e.loadRef(),protocolFee:T,lpFee:_,currentFee:O}},e.sendReinit=function(){var e=d(l().mark((function e(n,o,i,a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.reinitMessage(a)});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),t.messageSetFees=function(t,e,n){return r.beginCell().storeUint(pt.POOLV3_SET_FEE,32).storeUint(0,64).storeUint(t,16).storeUint(e,16).storeUint(n,16).endCell()},t.unpackSetFeesMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.POOLV3_SET_FEE)throw Error("Wrong opcode");return e.loadUint(64),{protocolFee:e.loadUint(16),lpFee:e.loadUint(16),currentFee:e.loadUint(16)}},e.sendSetFees=function(){var e=d(l().mark((function e(n,o,i,a,s,u){var c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.messageSetFees(a,s,u),e.next=3,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:c});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i,a){return e.apply(this,arguments)}}(),e.sendLockPool=function(){var t=d(l().mark((function t(e,n,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.beginCell().storeUint(pt.POOLV3_LOCK,32).storeUint(0,64).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:i});case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.sendUnlockPool=function(){var t=d(l().mark((function t(e,n,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.beginCell().storeUint(pt.POOLV3_UNLOCK,32).storeUint(0,64).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:i});case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.messageCollectProtocol=function(){return r.beginCell().storeUint(pt.POOLV3_COLLECT_PROTOCOL,32).storeUint(0,64).endCell()},t.unpackCollectProtocolMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.POOLV3_COLLECT_PROTOCOL)throw Error("Wrong opcode");e.loadUint(64)},e.sendCollectProtocol=function(){var e=d(l().mark((function e(n,o,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.messageCollectProtocol()});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.sendBurn=function(){var t=d(l().mark((function t(e,n,o,i,a,s,u){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,body:r.beginCell().storeUint(pt.POOLV3_START_BURN,32).storeUint(0,64).storeUint(i,64).storeUint(u,128).storeInt(a,24).storeInt(s,24).endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a,s){return t.apply(this,arguments)}}(),e.getIsActive=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getIsActive",[]);case 2:return t.abrupt("return",t.sent.stack.readBoolean());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getIsDebug=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("isDebugBuild",[]);case 3:return t.abrupt("return",t.sent.stack.readBoolean());case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.getPoolStateAndConfiguration=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPoolStateAndConfiguration",[]);case 2:return t.abrupt("return",{router_address:(n=t.sent.stack).readAddress(),admin_address:n.readAddress(),controller_address:n.readAddress(),jetton0_wallet:n.readAddress(),jetton1_wallet:n.readAddress(),jetton0_minter:n.readAddress(),jetton1_minter:n.readAddress(),pool_active:n.readBoolean(),tick_spacing:n.readNumber(),lp_fee_base:n.readNumber(),protocol_fee:n.readNumber(),lp_fee_current:n.readNumber(),tick:n.readNumber(),price_sqrt:n.readBigNumber(),liquidity:n.readBigNumber(),feeGrowthGlobal0X128:n.readBigNumber(),feeGrowthGlobal1X128:n.readBigNumber(),collectedProtocolFee0:n.readBigNumber(),collectedProtocolFee1:n.readBigNumber(),nftv3item_counter:n.readBigNumber(),reserve0:n.readBigNumber(),reserve1:n.readBigNumber(),nftv3items_active:n.readBigNumber(),ticks_occupied:n.readNumber(),seqno:n.readBigNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTickInfo=function(){var t=d(l().mark((function t(e,n){var r,o,i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTickInfosFromArr(e,n-1,1,!1,!0);case 2:if(0!=(i=t.sent).length&&i[0].tickNum==n){t.next=5;break}return t.abrupt("return",new mt);case 5:return(a=new mt).liquidityGross=i[0].liquidityGross,a.liquidityNet=i[0].liquidityNet,a.outerFeeGrowth0Token=null!=(r=i[0].outerFeeGrowth0Token)?r:BigInt(0),a.outerFeeGrowth1Token=null!=(o=i[0].outerFeeGrowth1Token)?o:BigInt(0),t.abrupt("return",a);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.getTickInfosAll=function(){var t=d(l().mark((function t(e){var n,o,i,a,s,u,c,A,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getAllTickInfos",[]);case 2:if("cell"===(n=t.sent.stack).peek().type){t.next=6;break}return t.abrupt("return",[]);case 6:for(o=n.readCell(),i=r.Dictionary.loadDirect(r.Dictionary.Keys.Int(24),Ct,o),a=[],(s=i.keys()).sort((function(t,e){return t-e})),u=I(s);!(c=u()).done;)d=i.get(A=c.value),a.push({tickNum:A,liquidityGross:d.liquidityGross,liquidityNet:d.liquidityNet,outerFeeGrowth0Token:d.outerFeeGrowth0Token,outerFeeGrowth1Token:d.outerFeeGrowth1Token});return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTickInfosFromArr=function(){var t=d(l().mark((function t(e,n,r,o,i){var a,s,u,c,A,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!1),void 0===i&&(i=!1),t.next=4,e.get("getTickInfosFrom",[{type:"int",value:BigInt(n)},{type:"int",value:BigInt(r)},{type:"int",value:BigInt(o?1:0)},{type:"int",value:BigInt(i?1:0)}]);case 4:if("tuple"===(a=t.sent.stack).peek().type){t.next=8;break}return t.abrupt("return",[]);case 8:for(s=a.readTuple(),u=[];s.remaining;)for(c=s.readTuple();c.remaining;)A=c.readTuple(),d={tickNum:A.readNumber(),liquidityGross:A.readBigNumber(),liquidityNet:A.readBigNumber(),outerFeeGrowth0Token:i?A.readBigNumber():BigInt(0),outerFeeGrowth1Token:i?A.readBigNumber():BigInt(0)},u.push(d);return t.abrupt("return",u);case 12:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),e.getMintEstimate=function(){var t=d(l().mark((function t(e,n,r,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getMintEstimate",[{type:"int",value:BigInt(n)},{type:"int",value:BigInt(r)},{type:"int",value:BigInt(o)}]);case 2:return t.abrupt("return",{amount0:(i=t.sent.stack).readBigNumber(),amount1:i.readBigNumber(),mintErrors:i.readNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),e.getSwapEstimate=function(){var t=d(l().mark((function t(e,n,r,o,i,a){var s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=BigInt(0)),void 0===a&&(a=BigInt(0)),t.next=4,e.get("getSwapEstimateGas",[{type:"int",value:BigInt(n?1:0)},{type:"int",value:BigInt(r)},{type:"int",value:BigInt(o)},{type:"int",value:BigInt(i)},{type:"int",value:BigInt(a)}]);case 4:return t.abrupt("return",{amount0:(s=t.sent.stack).readBigNumber(),amount1:s.readBigNumber()});case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),e.getCollectedFees=function(){var t=d(l().mark((function t(e,n,r,o,i,a){var s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getCollectedFees",[{type:"int",value:BigInt(n)},{type:"int",value:BigInt(r)},{type:"int",value:BigInt(o)},{type:"int",value:BigInt(i)},{type:"int",value:BigInt(a)}]);case 2:return t.abrupt("return",{amount0:(s=t.sent.stack).readBigNumber(),amount1:s.readBigNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),e.getFeeGrowthInside=function(){var t=d(l().mark((function t(e,n,r,o,i,a){var s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getFeeGrowthInside",[{type:"int",value:BigInt(n)},{type:"int",value:BigInt(r)},{type:"int",value:BigInt(o)},{type:"int",value:BigInt(i)},{type:"int",value:BigInt(a)}]);case 2:return t.abrupt("return",{feeGrowthInside0X128:(s=t.sent.stack).readBigNumber(),feeGrowthInside1X128:s.readBigNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),e.getUserAccountAddress=function(){var t=d(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getUserAccountAddress",[{type:"slice",cell:r.beginCell().storeAddress(n).endCell()}]);case 2:return t.abrupt("return",t.sent.stack.readAddress());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getNFTAddressByIndex=function(){var t=d(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_nft_address_by_index",[{type:"int",value:BigInt(n)}]);case 2:return t.abrupt("return",t.sent.stack.readAddress());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getNFTCollectionContent=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_collection_data",[]);case 2:return t.abrupt("return",{nftv3item_counter:(n=t.sent).stack.readBigNumber(),nftv3_content:n.stack.readCell(),router_address:n.stack.readAddress()});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNFTContent=function(){var t=d(l().mark((function t(e,n,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_nft_content",[{type:"int",value:BigInt(n)},{type:"cell",cell:r}]);case 2:return t.abrupt("return",t.sent.stack.readCell());case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getChildContracts=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getChildContracts",[]);case 2:return t.abrupt("return",{accountCode:(n=t.sent.stack).readCell(),positionNFTCode:n.readCell(),nftCollectionContent:n.readCell(),nftItemContent:n.readCell()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}();function Nt(t,e,n,r,o){return yt({router_address:o,jetton0_wallet:t,jetton1_wallet:e,accountv3_code:n,position_nftv3_code:r})}function Lt(t,e,n,o,i,a){var s;return s=St.orderJettonId(t,e)?Nt(t,e,o,i,a):Nt(e,t,o,i,a),r.beginCell().storeUint(0,2).storeMaybeRef(n).storeMaybeRef(s).storeUint(0,1).endCell()}function Bt(t,e){var n,o=r.Address.parse(y);return n=Lt(t,e,U,x,M,o),new r.Address(o.workChain,n.hash())}var xt=new _,Mt=function(){function t(t,r,o,i,a,s,u,c,l,A){void 0===c&&(c=xt),Number.isInteger(o)&&o<1e6||n(!1);var d=G.getSqrtRatioAtTick(s),f=G.getSqrtRatioAtTick(s+1);e.greaterThanOrEqual(e.BigInt(i),d)&&e.lessThanOrEqual(e.BigInt(i),f)||n(!1);var p=[t,r];this.jetton0=p[0],this.jetton1=p[1];var g=[l,A];this.jetton0_wallet=g[0],this.jetton1_wallet=g[1],this.fee=o,this.sqrtRatioX96=e.BigInt(i),this.liquidity=e.BigInt(a),this.tickCurrent=s,this.tickDataProvider=Array.isArray(c)?new Z(c,u):c,this._tickSpacing=u}t.getAddress=function(t,e){return t&&e?Bt(r.Address.parse(t),r.Address.parse(e)):r.Address.parse(E)};var o=t.prototype;return o.involvesToken=function(t){return t.equals(this.jetton0)||t.equals(this.jetton1)},o.priceOf=function(t){return this.involvesToken(t)||n(!1),t.equals(this.jetton0)?this.jetton0Price:this.jetton1Price},o.getOutputAmount=function(){var r=d(l().mark((function r(o,i){var a,s,u,c,A;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.involvesToken(o.jetton)||n(!1),a=o.jetton.equals(this.jetton0),r.next=4,this.swap(a,o.quotient,i);case 4:return u=(s=r.sent).sqrtRatioX96,c=s.liquidity,A=s.tickCurrent,r.abrupt("return",[it.fromRawAmount(a?this.jetton1:this.jetton0,e.multiply(s.amountCalculated,m)),new t(this.jetton0,this.jetton1,this.fee,u,c,A,this.tickSpacing,this.tickDataProvider)]);case 11:case"end":return r.stop()}}),r,this)})));return function(t,e){return r.apply(this,arguments)}}(),o.getInputAmount=function(){var r=d(l().mark((function r(o,i){var a,s,u,c,A;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.involvesToken(o.jetton)||n(!1),a=o.jetton.equals(this.jetton1),r.next=4,this.swap(a,e.multiply(o.quotient,m),i);case 4:return u=(s=r.sent).sqrtRatioX96,c=s.liquidity,A=s.tickCurrent,r.abrupt("return",[it.fromRawAmount(a?this.jetton0:this.jetton1,s.amountCalculated),new t(this.jetton0,this.jetton1,this.fee,u,c,A,this.tickSpacing,this.tickDataProvider)]);case 11:case"end":return r.stop()}}),r,this)})));return function(t,e){return r.apply(this,arguments)}}(),o.swap=function(){var t=d(l().mark((function t(r,o,i){var a,s,u,c,A,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i||(i=r?e.add(G.MIN_SQRT_RATIO,v):e.subtract(G.MAX_SQRT_RATIO,v)),r?(e.greaterThan(i,G.MIN_SQRT_RATIO)||n(!1),e.lessThan(i,this.sqrtRatioX96)||n(!1)):(e.lessThan(i,G.MAX_SQRT_RATIO)||n(!1),e.greaterThan(i,this.sqrtRatioX96)||n(!1)),a=e.greaterThanOrEqual(o,C),s={amountSpecifiedRemaining:o,amountCalculated:C,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};case 4:if(!e.notEqual(s.amountSpecifiedRemaining,C)||s.sqrtPriceX96==i){t.next=35;break}return(u={}).sqrtPriceStartX96=s.sqrtPriceX96,t.next=9,this.tickDataProvider.nextInitializedTickWithinOneWord(s.tick,r,this.tickSpacing);case 9:if(u.tickNext=(c=t.sent)[0],u.initialized=c[1],u.tickNext<G.MIN_TICK?u.tickNext=G.MIN_TICK:u.tickNext>G.MAX_TICK&&(u.tickNext=G.MAX_TICK),u.sqrtPriceNextX96=G.getSqrtRatioAtTick(u.tickNext),A=At.computeSwapStep(s.sqrtPriceX96,(r?e.lessThan(u.sqrtPriceNextX96,i):e.greaterThan(u.sqrtPriceNextX96,i))?i:u.sqrtPriceNextX96,s.liquidity,s.amountSpecifiedRemaining,this.fee),s.sqrtPriceX96=A[0],u.amountIn=A[1],u.amountOut=A[2],u.feeAmount=A[3],a?(s.amountSpecifiedRemaining=e.subtract(s.amountSpecifiedRemaining,e.add(u.amountIn,u.feeAmount)),s.amountCalculated=e.subtract(s.amountCalculated,u.amountOut)):(s.amountSpecifiedRemaining=e.add(s.amountSpecifiedRemaining,u.amountOut),s.amountCalculated=e.add(s.amountCalculated,e.add(u.amountIn,u.feeAmount))),!e.equal(s.sqrtPriceX96,u.sqrtPriceNextX96)){t.next=32;break}if(!u.initialized){t.next=29;break}return t.t0=e,t.next=25,this.tickDataProvider.getTick(u.tickNext);case 25:t.t1=t.sent.liquidityNet,d=t.t0.BigInt.call(t.t0,t.t1),r&&(d=e.multiply(d,m)),s.liquidity=dt.addDelta(s.liquidity,d);case 29:s.tick=r?u.tickNext-1:u.tickNext,t.next=33;break;case 32:s.sqrtPriceX96!=u.sqrtPriceStartX96&&(s.tick=G.getTickAtSqrtRatio(s.sqrtPriceX96));case 33:t.next=4;break;case 35:return t.abrupt("return",{amountCalculated:s.amountCalculated,sqrtRatioX96:s.sqrtPriceX96,liquidity:s.liquidity,tickCurrent:s.tick});case 36:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),p(t,[{key:"jetton0Price",get:function(){var t;return null!=(t=this._jetton0Price)?t:this._jetton0Price=new ft(this.jetton0,this.jetton1,R,e.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"jetton1Price",get:function(){var t;return null!=(t=this._jetton1Price)?t:this._jetton1Price=new ft(this.jetton1,this.jetton0,e.multiply(this.sqrtRatioX96,this.sqrtRatioX96),R)}},{key:"tickSpacing",get:function(){return this._tickSpacing}}]),t}(),Ut=e.BigInt(Number.MAX_SAFE_INTEGER),bt=e.BigInt(0),kt=e.BigInt(1),Dt=e.BigInt(2);function Ft(t,r){var o=e.leftShift(e.BigInt(t),e.BigInt(192)),i=e.BigInt(r);return function(t){if(e.greaterThanOrEqual(t,bt)||n(!1),e.lessThan(t,Ut))return e.BigInt(Math.floor(Math.sqrt(e.toNumber(t))));var r,o;for(r=t,o=e.add(e.divide(t,Dt),kt);e.lessThan(o,r);)r=o,o=e.divide(e.add(e.divide(t,o),o),Dt);return r}(e.divide(o,i))}function Vt(t,n,r,o){void 0===o&&(o=!0);var i=G.getSqrtRatioAtTick(r),a=e.multiply(i,i);return o?new ft(t,n,R,a):new ft(t,n,a,R)}function Gt(t){var e=Ft(t.numerator,t.denominator),n=G.getTickAtSqrtRatio(e),r=Vt(t.baseCurrency,t.quoteCurrency,n+1);return t.lessThan(r)||n++,n}function qt(t,n,r){if(e.greaterThan(t,n)){var o=[n,t];t=o[0],n=o[1]}var i=e.divide(e.multiply(t,n),w);return e.divide(e.multiply(e.BigInt(r),i),e.subtract(n,t))}function Qt(t,n,r){if(e.greaterThan(t,n)){var o=[n,t];t=o[0],n=o[1]}var i=e.multiply(e.multiply(e.BigInt(r),t),n),a=e.multiply(w,e.subtract(n,t));return e.divide(i,a)}function jt(t,n,r){if(e.greaterThan(t,n)){var o=[n,t];t=o[0],n=o[1]}return e.divide(e.multiply(e.BigInt(r),w),e.subtract(n,t))}function Yt(t,n,r,o,i,a){if(e.greaterThan(n,r)){var s=[r,n];n=s[0],r=s[1]}var u=a?Qt:qt;if(e.lessThanOrEqual(t,n))return u(n,r,o);if(e.lessThan(t,r)){var c=u(t,r,o),l=jt(n,t,i);return e.lessThan(c,l)?c:l}return jt(n,r,i)}var Ht=new rt(e.BigInt(100));function Jt(t){return new Wt(t.numerator,t.denominator)}var Wt=function(t){function n(n,r){var o;return void 0===r&&(r=e.BigInt(1)),(o=t.call(this,n,r)||this).isPercent=!0,o}h(n,t);var r=n.prototype;return r.add=function(e){return Jt(t.prototype.add.call(this,e))},r.subtract=function(e){return Jt(t.prototype.subtract.call(this,e))},r.multiply=function(e){return Jt(t.prototype.multiply.call(this,e))},r.divide=function(e){return Jt(t.prototype.divide.call(this,e))},r.toSignificant=function(e,n,r){return void 0===e&&(e=5),t.prototype.multiply.call(this,Ht).toSignificant(e,n,r)},r.toFixed=function(e,n,r){return void 0===e&&(e=2),t.prototype.multiply.call(this,Ht).toFixed(e,n,r)},n}(rt),Xt=function(){function t(t){var r=t.pool,o=t.liquidity,i=t.tickLower,a=t.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<a||n(!1),i>=G.MIN_TICK&&i%r.tickSpacing==0||n(!1),a<=G.MAX_TICK&&a%r.tickSpacing==0||n(!1),this.pool=r,this.tickLower=i,this.tickUpper=a,this.liquidity=e.BigInt(o)}t.fromAmounts=function(e){var n=e.pool,r=e.tickLower,o=e.tickUpper,i=e.amount0,a=e.amount1,s=e.useFullPrecision,u=G.getSqrtRatioAtTick(r),c=G.getSqrtRatioAtTick(o);return new t({pool:n,tickLower:r,tickUpper:o,liquidity:Yt(n.sqrtRatioX96,u,c,i,a,s)})},t.fromAmount0=function(e){return t.fromAmounts({pool:e.pool,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0:e.amount0,amount1:P,useFullPrecision:e.useFullPrecision})},t.fromAmount1=function(e){return t.fromAmounts({pool:e.pool,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0:P,amount1:e.amount1,useFullPrecision:!0})};var r=t.prototype;return r.mintAmountsWithSlippage=function(e){var n=this.ratiosAfterSlippage(e),r=n.sqrtRatioX96Upper,o=n.sqrtRatioX96Lower,i=new Mt(this.pool.jetton0,this.pool.jetton1,this.pool.fee,o,0,G.getTickAtSqrtRatio(o),this.pool.tickSpacing),a=new Mt(this.pool.jetton0,this.pool.jetton1,this.pool.fee,r,0,G.getTickAtSqrtRatio(r),this.pool.tickSpacing),s=t.fromAmounts(g({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new t({pool:a,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new t({pool:i,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},r.burnAmountsWithSlippage=function(e){var n=this.ratiosAfterSlippage(e),r=n.sqrtRatioX96Upper,o=n.sqrtRatioX96Lower,i=new Mt(this.pool.jetton0,this.pool.jetton1,this.pool.fee,o,0,G.getTickAtSqrtRatio(o),this.pool.tickSpacing),a=new t({pool:new Mt(this.pool.jetton0,this.pool.jetton1,this.pool.fee,r,0,G.getTickAtSqrtRatio(r),this.pool.tickSpacing),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new t({pool:i,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:a.quotient,amount1:s.quotient}},r.ratiosAfterSlippage=function(t){var n=this.pool.jetton0Price.asFraction.multiply(new Wt(1).subtract(t)),r=this.pool.jetton0Price.asFraction.multiply(t.add(1)),o=Ft(n.numerator,n.denominator);e.lessThanOrEqual(o,G.MIN_SQRT_RATIO)&&(o=e.add(G.MIN_SQRT_RATIO,e.BigInt(1)));var i=Ft(r.numerator,r.denominator);return e.greaterThanOrEqual(i,G.MAX_SQRT_RATIO)&&(i=e.subtract(G.MAX_SQRT_RATIO,e.BigInt(1))),{sqrtRatioX96Lower:o,sqrtRatioX96Upper:i}},p(t,[{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:ct.getAmount0Delta(G.getSqrtRatioAtTick(this.tickLower),G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:C}:this.pool.tickCurrent<this.tickUpper?{amount0:ct.getAmount0Delta(this.pool.sqrtRatioX96,G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:ct.getAmount1Delta(G.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:C,amount1:ct.getAmount1Delta(G.getSqrtRatioAtTick(this.tickLower),G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}},{key:"token0PriceLower",get:function(){return Vt(this.pool.jetton0,this.pool.jetton1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return Vt(this.pool.jetton0,this.pool.jetton1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this._token0Amount=it.fromRawAmount(this.pool.jetton0,this.pool.tickCurrent<this.tickLower?ct.getAmount0Delta(G.getSqrtRatioAtTick(this.tickLower),G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):this.pool.tickCurrent<this.tickUpper?ct.getAmount0Delta(this.pool.sqrtRatioX96,G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):C)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this._token1Amount=it.fromRawAmount(this.pool.jetton1,this.pool.tickCurrent<this.tickLower?C:ct.getAmount1Delta(G.getSqrtRatioAtTick(this.tickLower),this.pool.tickCurrent<this.tickUpper?this.pool.sqrtRatioX96:G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}}]),t}(),zt=function(){function t(t,e,r){this._midPrice=null,t.length>0||n(!1);var o=e;t[0].involvesToken(o)||n(!1),t[t.length-1].involvesToken(r)||n(!1);for(var i,a=[o],s=I(t.entries());!(i=s()).done;){var u=i.value,c=u[1],l=a[u[0]];l.equals(c.jetton0)||l.equals(c.jetton1)||n(!1);var A=l.equals(c.jetton0)?c.jetton1:c.jetton0;a.push(A)}this.pools=t,this.tokenPath=a,this.input=e,this.output=null!=r?r:a[a.length-1]}return p(t,[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var t=this.pools.slice(1).reduce((function(t,e){var n=t.price;return t.nextInput.equals(e.jetton0)?{nextInput:e.jetton1,price:n.multiply(e.jetton0Price)}:{nextInput:e.jetton0,price:n.multiply(e.jetton1Price)}}),this.pools[0].jetton0.equals(this.input)?{nextInput:this.pools[0].jetton1,price:this.pools[0].jetton0Price}:{nextInput:this.pools[0].jetton0,price:this.pools[0].jetton1Price}).price;return this._midPrice=new ft(this.input,this.output,t.denominator,t.numerator)}}]),t}();function Kt(t,e,r,o){if(r>0||n(!1),t.length<=r||n(!1),0===t.length)return t.push(e),null;var i=t.length===r;if(i&&o(t[t.length-1],e)<=0)return e;for(var a=0,s=t.length;a<s;){var u=a+s>>>1;o(t[u],e)<=0?a=u+1:s=u}return t.splice(a,0,e),i?t.pop():null}function Zt(t,e){return t.inputAmount.jetton.equals(e.inputAmount.jetton)||n(!1),t.outputAmount.jetton.equals(e.outputAmount.jetton)||n(!1),t.outputAmount.equalTo(e.outputAmount)?t.inputAmount.equalTo(e.inputAmount)?t.swaps.reduce((function(t,e){return t+e.route.tokenPath.length}),0)-e.swaps.reduce((function(t,e){return t+e.route.tokenPath.length}),0):t.inputAmount.lessThan(e.inputAmount)?-1:1:t.outputAmount.lessThan(e.outputAmount)?1:-1}var $t=function(){function t(t){var e=t.routes,o=t.tradeType,i=e[0].inputAmount.jetton,a=e[0].outputAmount.jetton;e.every((function(t){return i.equals(t.route.input)}))||n(!1),e.every((function(t){return a.equals(t.route.output)}))||n(!1);for(var s,u=e.map((function(t){return t.route.pools.length})).reduce((function(t,e){return t+e}),0),c=new Set,l=I(e);!(s=l()).done;)for(var A,d=I(s.value.route.pools);!(A=d()).done;){var f=A.value;c.add(Bt(r.Address.parse(f.jetton0_wallet),r.Address.parse(f.jetton1_wallet)).toString())}u!=c.size&&n(!1),this.swaps=e,this.tradeType=o}t.exactIn=function(){var e=d(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fromRoute(n,r,exports.TradeType.EXACT_INPUT));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.exactOut=function(){var e=d(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fromRoute(n,r,exports.TradeType.EXACT_OUTPUT));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.fromRoute=function(){var e=d(l().mark((function e(r,o,i){var a,s,u,c,A,d,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Array(r.tokenPath.length),i!==exports.TradeType.EXACT_INPUT){e.next=19;break}o.jetton.equals(r.input)||n(!1),a[0]=o.wrapped,c=0;case 5:if(!(c<r.tokenPath.length-1)){e.next=15;break}return A=r.pools[c],e.next=9,A.getOutputAmount(a[c]);case 9:a[c+1]=e.sent[0];case 12:c++,e.next=5;break;case 15:s=it.fromFractionalAmount(r.input,o.numerator,o.denominator),u=it.fromFractionalAmount(r.output,a[a.length-1].numerator,a[a.length-1].denominator),e.next=34;break;case 19:o.jetton.equals(r.output)||n(!1),a[a.length-1]=o.wrapped,d=r.tokenPath.length-1;case 22:if(!(d>0)){e.next=32;break}return f=r.pools[d-1],e.next=26,f.getInputAmount(a[d]);case 26:a[d-1]=e.sent[0];case 29:d--,e.next=22;break;case 32:s=it.fromFractionalAmount(r.input,a[0].numerator,a[0].denominator),u=it.fromFractionalAmount(r.output,o.numerator,o.denominator);case 34:return e.abrupt("return",new t({routes:[{inputAmount:s,outputAmount:u,route:r}],tradeType:i}));case 35:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.fromRoutes=function(){var e=d(l().mark((function e(r,o){var i,a,s,u,c,A,d,f,p,g,h,T,_;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=I(r);case 2:if((s=a()).done){e.next=43;break}if(c=(u=s.value).route,A=u.amount,d=new Array(c.tokenPath.length),f=void 0,p=void 0,o!==exports.TradeType.EXACT_INPUT){e.next=25;break}A.jetton.equals(c.input)||n(!1),f=it.fromFractionalAmount(c.input,A.numerator,A.denominator),d[0]=it.fromFractionalAmount(c.input,A.numerator,A.denominator),g=0;case 12:if(!(g<c.tokenPath.length-1)){e.next=22;break}return h=c.pools[g],e.next=16,h.getOutputAmount(d[g]);case 16:d[g+1]=e.sent[0];case 19:g++,e.next=12;break;case 22:p=it.fromFractionalAmount(c.output,d[d.length-1].numerator,d[d.length-1].denominator),e.next=40;break;case 25:A.jetton.equals(c.output)||n(!1),p=it.fromFractionalAmount(c.output,A.numerator,A.denominator),d[d.length-1]=it.fromFractionalAmount(c.output,A.numerator,A.denominator),T=c.tokenPath.length-1;case 29:if(!(T>0)){e.next=39;break}return _=c.pools[T-1],e.next=33,_.getInputAmount(d[T]);case 33:d[T-1]=e.sent[0];case 36:T--,e.next=29;break;case 39:f=it.fromFractionalAmount(c.input,d[0].numerator,d[0].denominator);case 40:i.push({route:c,inputAmount:f,outputAmount:p});case 41:e.next=2;break;case 43:return e.abrupt("return",new t({routes:i,tradeType:o}));case 44:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.createUncheckedTrade=function(e){return new t(g({},e,{routes:[{inputAmount:e.inputAmount,outputAmount:e.outputAmount,route:e.route}]}))},t.createUncheckedTradeWithMultipleRoutes=function(e){return new t(e)},t.bestTradeExactIn=function(){var e=d(l().mark((function e(r,o,i,a,s,u,c){var A,d,f,p,g,h,T,I,_,E,O,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=void 0===(d=(A=void 0===a?{}:a).maxNumResults)?3:d,g=void 0===(p=A.maxHops)?3:p,void 0===s&&(s=[]),void 0===u&&(u=o),void 0===c&&(c=[]),r.length>0||n(!1),g>0||n(!1),o===u||s.length>0||n(!1),h=u,T=i,I=0;case 10:if(!(I<r.length)){e.next=46;break}if((_=r[I]).jetton0.equals(h.jetton)||_.jetton1.equals(h.jetton)){e.next=14;break}return e.abrupt("continue",43);case 14:return E=void 0,e.prev=15,e.next=18,_.getOutputAmount(h);case 18:E=e.sent[0],e.next=28;break;case 22:if(e.prev=22,e.t0=e.catch(15),!(O=e.t0).isInsufficientInputAmountError){e.next=27;break}return e.abrupt("continue",43);case 27:throw O;case 28:if(!E.jetton.isToken||!E.jetton.equals(T)){e.next=39;break}return e.t1=Kt,e.t2=c,e.next=33,t.fromRoute(new zt([].concat(s,[_]),o.jetton,i),o,exports.TradeType.EXACT_INPUT);case 33:e.t3=e.sent,e.t4=f,e.t5=Zt,(0,e.t1)(e.t2,e.t3,e.t4,e.t5),e.next=43;break;case 39:if(!(g>1&&r.length>1)){e.next=43;break}return m=r.slice(0,I).concat(r.slice(I+1,r.length)),e.next=43,t.bestTradeExactIn(m,o,i,{maxNumResults:f,maxHops:g-1},[].concat(s,[_]),E,c);case 43:I++,e.next=10;break;case 46:return e.abrupt("return",c);case 47:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t,n,r,o,i,a,s){return e.apply(this,arguments)}}(),t.bestTradeExactOut=function(){var e=d(l().mark((function e(r,o,i,a,s,u,c){var A,d,f,p,g,h,T,I,_,E,O,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=void 0===(d=(A=void 0===a?{}:a).maxNumResults)?3:d,g=void 0===(p=A.maxHops)?3:p,void 0===s&&(s=[]),void 0===u&&(u=i),void 0===c&&(c=[]),r.length>0||n(!1),g>0||n(!1),i===u||s.length>0||n(!1),h=u,T=o,I=0;case 10:if(!(I<r.length)){e.next=46;break}if((_=r[I]).jetton0.equals(h.jetton)||_.jetton1.equals(h.jetton)){e.next=14;break}return e.abrupt("continue",43);case 14:return E=void 0,e.prev=15,e.next=18,_.getInputAmount(h);case 18:E=e.sent[0],e.next=28;break;case 22:if(e.prev=22,e.t0=e.catch(15),!(O=e.t0).isInsufficientReservesError){e.next=27;break}return e.abrupt("continue",43);case 27:throw O;case 28:if(!E.jetton.equals(T)){e.next=39;break}return e.t1=Kt,e.t2=c,e.next=33,t.fromRoute(new zt([_].concat(s),o,i.jetton),i,exports.TradeType.EXACT_OUTPUT);case 33:e.t3=e.sent,e.t4=f,e.t5=Zt,(0,e.t1)(e.t2,e.t3,e.t4,e.t5),e.next=43;break;case 39:if(!(g>1&&r.length>1)){e.next=43;break}return m=r.slice(0,I).concat(r.slice(I+1,r.length)),e.next=43,t.bestTradeExactOut(m,o,i,{maxNumResults:f,maxHops:g-1},[_].concat(s),E,c);case 43:I++,e.next=10;break;case 46:return e.abrupt("return",c);case 47:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t,n,r,o,i,a,s){return e.apply(this,arguments)}}();var e=t.prototype;return e.minimumAmountOut=function(t,e){if(void 0===e&&(e=this.outputAmount),t.lessThan(C)&&n(!1),this.tradeType===exports.TradeType.EXACT_OUTPUT)return e;var r=new rt(v).add(t).invert().multiply(e.quotient).quotient;return it.fromRawAmount(e.jetton,r)},e.maximumAmountIn=function(t,e){if(void 0===e&&(e=this.inputAmount),t.lessThan(C)&&n(!1),this.tradeType===exports.TradeType.EXACT_INPUT)return e;var r=new rt(v).add(t).multiply(e.quotient).quotient;return it.fromRawAmount(e.jetton,r)},e.worstExecutionPrice=function(t){return new ft(this.inputAmount.jetton,this.outputAmount.jetton,this.maximumAmountIn(t).quotient,this.minimumAmountOut(t).quotient)},p(t,[{key:"route",get:function(){return 1!=this.swaps.length&&n(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var t=this.swaps[0].inputAmount.jetton,e=this.swaps.map((function(t){return t.inputAmount})).reduce((function(t,e){return t.add(e)}),it.fromRawAmount(t,0));return this._inputAmount=e,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var t=this.swaps[0].outputAmount.jetton,e=this.swaps.map((function(t){return t.outputAmount})).reduce((function(t,e){return t.add(e)}),it.fromRawAmount(t,0));return this._outputAmount=e,this._outputAmount}},{key:"executionPrice",get:function(){var t;return null!=(t=this._executionPrice)?t:this._executionPrice=new ft(this.inputAmount.jetton,this.outputAmount.jetton,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var t,e=it.fromRawAmount(this.outputAmount.jetton,0),n=I(this.swaps);!(t=n()).done;){var r=t.value;e=e.add(r.route.midPrice.quote(r.inputAmount))}var o=e.subtract(this.outputAmount).divide(e);return this._priceImpact=new Wt(o.numerator,o.denominator),this._priceImpact}}]),t}();function te(t){try{return u.Address.parse(t).toString()}catch(e){throw new Error(t+" is not a valid address.")}}var ee=function(t){function e(e,n,r,o,i){var a;return(a=t.call(this,n,r,o,i)||this).isToken=!0,a.address=te(e),a}return h(e,t),e.prototype.equals=function(t){return t.isToken&&r.Address.parse(this.address).equals(r.Address.parse(t.address))},e}((function(t,e,r,o){t>=0&&t<255&&Number.isInteger(t)||n(!1),this.decimals=t,this.symbol=e,this.name=r,this.image=o}));function ne(t,e){Number.isInteger(t)&&Number.isInteger(e)||n(!1),e>0||n(!1),t>=G.MIN_TICK&&t<=G.MAX_TICK||n(!1);var r=Math.round(t/e)*e;return r<G.MIN_TICK?r+e:r>G.MAX_TICK?r-e:r}var re=e.exponentiate(e.BigInt(2),e.BigInt(256));function oe(t,n){var r=e.subtract(t,n);return e.lessThan(r,C)?e.add(re,r):r}var ie,ae=function(){function t(){}return t.getFeeGrowthInside=function(t,e,n,r,o,i,a){var s,u,c,l;return o>=n?(s=t.feeGrowthOutside0X128,u=t.feeGrowthOutside1X128):(s=oe(i,t.feeGrowthOutside0X128),u=oe(a,t.feeGrowthOutside1X128)),o<r?(c=e.feeGrowthOutside0X128,l=e.feeGrowthOutside1X128):(c=oe(i,e.feeGrowthOutside0X128),l=oe(a,e.feeGrowthOutside1X128)),[oe(oe(i,s),c),oe(oe(a,u),l)]},t}(),se=e.exponentiate(e.BigInt(2),e.BigInt(128)),ue=function(){function t(){}return t.getTokensOwed=function(t,n,r,o,i){return[e.divide(e.multiply(oe(o,t),r),se),e.divide(e.multiply(oe(i,n),r),se)]},t}(),ce=e.multiply(e.exponentiate(e.BigInt(10),e.BigInt(7)),e.BigInt(61));function le(t,e){var n=Number(t);return isNaN(n)?BigInt(0):BigInt(Math.round(n*Math.pow(10,e)))}function Ae(t,n,r){var o;if(t&&n&&r&&r.match(/^\d*\.?\d+$/)){var i=r.split("."),a=i[0],s=i[1],u=null!=(o=null==s?void 0:s.length)?o:0,c=e.BigInt((null!=a?a:"")+(null!=s?s:""));return new ft(t,n,e.multiply(e.BigInt(Math.pow(10,u)),e.BigInt(Math.pow(10,t.decimals))),e.multiply(c,e.BigInt(Math.pow(10,n.decimals))))}}(ie=exports.WalletVersion||(exports.WalletVersion={}))[ie.V3R1=0]="V3R1",ie[ie.V3R2=1]="V3R2",ie[ie.V4R1=2]="V4R1",ie[ie.V4R2=3]="V4R2",ie[ie.V5_BETA=4]="V5_BETA",ie[ie.V5R1=5]="V5R1";var de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],fe=[B,U,x,M],pe=function(){};pe.create=function(t,e,n){switch(n){case exports.WalletVersion.V3R1:return u.WalletContractV3R1.create({workchain:t,publicKey:e});case exports.WalletVersion.V3R2:return u.WalletContractV3R2.create({workchain:t,publicKey:e});case exports.WalletVersion.V4R1:throw new Error("Unsupported wallet contract version - v4R1");case exports.WalletVersion.V4R2:return u.WalletContractV4.create({workchain:t,publicKey:e});case exports.WalletVersion.V5R1:return u.WalletContractV5R1.create({workchain:t,publicKey:e});default:throw new Error("Unsupported wallet contract version - "+n)}};var ge=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.sign(e.hash(),Buffer.alloc(64)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),he=function(t,e,n){return u.beginCell().storeWritable(u.storeMessage(u.external({to:t.address,init:0===e?t.init:void 0,body:n}))).endCell()};function Te(t,e,n,r,o){return Ie.apply(this,arguments)}function Ie(){return(Ie=d(l().mark((function t(e,n,r,o,i){var a,s,c,A;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&n&&n[0].body&&i&&o){t.next=2;break}return t.abrupt("return");case 2:return a=pe.create(u.Address.parse(r).workChain,Buffer.from(o,"hex"),i),t.next=5,e.wallet.getAccountSeqno(r);case 5:return s=t.sent.seqno,t.next=8,ge(n[0].body);case 8:return c=t.sent,t.next=11,a.createTransfer({seqno:s,signer:ge,secretKey:c,timeout:0,sendMode:u.SendMode.PAY_GAS_SEPARATELY+u.SendMode.IGNORE_ERRORS,messages:n.map((function(t){var e,n,r,o;return u.internal({to:t.to,bounce:!0,value:t.value,init:{code:null!=(e=null==(n=t.init)?void 0:n.code)?e:null,data:null!=(r=null==(o=t.init)?void 0:o.data)?r:null},body:t.body})}))});case 11:return A=he(a,s,t.sent).toBoc({idx:!1}),t.next=15,e.wallet.emulateMessageToWallet({boc:A.toString("base64")});case 15:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _e=function(){};_e.transfer=260734629,_e.transfer_notification=1935855772,_e.internal_transfer=395134233,_e.excesses=3576854235,_e.burn=1499400124,_e.burn_notification=2078119902,_e.provide_wallet_address=745978227,_e.take_wallet_address=3513996288,_e.mint=21,_e.change_admin=3,_e.change_content=4;var Ee=function(){};function Oe(t){return r.beginCell().storeCoins(0).storeAddress(t.admin).storeRef(t.content).storeRef(t.wallet_code).endCell()}Ee.invalid_op=709,Ee.not_admin=73,Ee.unouthorized_burn=74,Ee.discovery_fee_not_matched=75,Ee.wrong_op=65535,Ee.not_owner=705,Ee.not_enough_ton=709,Ee.not_enough_gas=707,Ee.not_valid_wallet=707,Ee.wrong_workchain=333,Ee.balance_error=706;var me=function(){function t(t,e){this.address=t,this.init=e}t.createFromAddress=function(e){return new t(e)},t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:Oe(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:r.beginCell().endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.jettonInternalTransfer=function(t,e,n,o){return void 0===o&&(o=0),r.beginCell().storeUint(_e.internal_transfer,32).storeUint(o,64).storeCoins(t).storeAddress(null).storeAddress(n).storeCoins(e).storeBit(!1).endCell()},t.mintMessage=function(t,e,n,o,i,a){void 0===a&&(a=0);var s=r.beginCell().storeUint(_e.internal_transfer,32).storeUint(0,64).storeCoins(n).storeAddress(null).storeAddress(t).storeCoins(o).storeMaybeRef(null).endCell();return r.beginCell().storeUint(_e.mint,32).storeUint(a,64).storeAddress(e).storeCoins(i).storeCoins(n).storeRef(s).endCell()},e.sendMint=function(){var e=d(l().mark((function e(n,o,i,a,s,u){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u<=s)){e.next=2;break}throw new Error("Total ton amount should be > forward amount");case 2:return e.next=4,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.mintMessage(this.address,i,a,s,u),value:u});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o,i,a){return e.apply(this,arguments)}}(),t.discoveryMessage=function(t,e){return r.beginCell().storeUint(745978227,32).storeUint(0,64).storeAddress(t).storeBit(e).endCell()},e.sendDiscovery=function(){var e=d(l().mark((function e(n,o,i,a,s){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=r.toNano("0.1")),e.next=3,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.discoveryMessage(i,a),value:s});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),t.changeAdminMessage=function(t){return r.beginCell().storeUint(_e.change_admin,32).storeUint(0,64).storeAddress(t).endCell()},e.sendChangeAdmin=function(){var e=d(l().mark((function e(n,o,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.changeAdminMessage(i),value:r.toNano("0.05")});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.changeContentMessage=function(t){return r.beginCell().storeUint(_e.change_content,32).storeUint(0,64).storeRef(t).endCell()},e.sendChangeContent=function(){var e=d(l().mark((function e(n,o,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.changeContentMessage(i),value:r.toNano("0.05")});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.getWalletAddress=function(){var t=d(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_wallet_address",[{type:"slice",cell:r.beginCell().storeAddress(n).endCell()}]);case 2:return t.abrupt("return",t.sent.stack.readAddress());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getJettonData=function(){var t=d(l().mark((function t(e){var n,r,o,i,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_jetton_data",[]);case 2:return r=(n=t.sent).stack.readBigNumber(),o=n.stack.readBoolean(),i=n.stack.readAddressOpt(),a=n.stack.readCell(),s=n.stack.readCell(),t.abrupt("return",{totalSupply:r,mintable:o,adminAddress:i,content:a,walletCode:s});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTotalSupply=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getJettonData(e);case 2:return t.abrupt("return",t.sent.totalSupply);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getAdminAddress=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getJettonData(e);case 2:return t.abrupt("return",t.sent.adminAddress);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getContent=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getJettonData(e);case 2:return t.abrupt("return",t.sent.content);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}();function Ce(t){return console.log(t),r.beginCell().endCell()}var ve=function(){function t(t,e){this.address=t,this.init=e}t.createFromAddress=function(e){return new t(e)},t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:Ce(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:r.beginCell().endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getJettonBalance=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getState();case 2:if("active"===t.sent.state.type){t.next=5;break}return t.abrupt("return",0n);case 5:return t.next=7,e.get("get_wallet_data",[]);case 7:return t.abrupt("return",t.sent.stack.readBigNumber());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getJettonMinterAddress=function(){var t=d(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_wallet_data",[]);case 2:return(n=t.sent).stack.skip(2),r=n.stack.readAddress(),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.transferMessage=function(t,e,n,o,i,a){return r.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(t).storeAddress(e).storeAddress(n).storeMaybeRef(o).storeCoins(i).storeMaybeRef(a).endCell()},e.sendTransfer=function(){var e=d(l().mark((function e(n,o,i,a,s,u,c,A,d){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.transferMessage(a,s,u,c,A,d),value:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i,a,s,u,c){return e.apply(this,arguments)}}(),t.burnMessage=function(t,e,n){return r.beginCell().storeUint(1499400124,32).storeUint(0,64).storeCoins(t).storeAddress(e).storeMaybeRef(n).endCell()},e.sendBurn=function(){var e=d(l().mark((function e(n,o,i,a,s,u){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.burnMessage(a,s,u),value:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i,a){return e.apply(this,arguments)}}(),t.withdrawTonsMessage=function(){return r.beginCell().storeUint(1838046780,32).storeUint(0,64).endCell()},e.sendWithdrawTons=function(){var e=d(l().mark((function e(n,o){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.withdrawTonsMessage(),value:r.toNano("0.1")});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.withdrawJettonsMessage=function(t,e){return r.beginCell().storeUint(1988776114,32).storeUint(0,64).storeAddress(t).storeCoins(e).storeMaybeRef(null).endCell()},e.sendWithdrawJettons=function(){var e=d(l().mark((function e(n,o,i,a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.internal(o,{sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:t.withdrawJettonsMessage(i,a),value:r.toNano("0.1")});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),e.getWalletData=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_wallet_data",[]);case 2:return t.abrupt("return",{balance:(n=t.sent).stack.readBigNumber(),ownerAddress:n.stack.readAddress(),jettonMasterAddress:n.stack.readAddress(),jettonWalletCode:n.stack.readCell()});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}(),we={transfer:260734629,internalTransfer:395134233,burn:1499400124},Re=g({},we,{resetGas:701638965,tonTransfer:32736093});function Pe(t){return r.beginCell().storeAddress(t.poolAddress).storeAddress(t.userAddress).storeUint(t.liquidity,128).storeInt(t.tickLow,24).storeInt(t.tickHigh,24).storeRef(r.beginCell().storeUint(t.feeGrowthInside0LastX128,256).storeUint(t.feeGrowthInside1LastX128,256).endCell()).endCell()}var ye=function(){function t(t,e){this.address=t,this.init=e}t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:Pe(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:r.beginCell().endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.sendTransfer=function(){var t=d(l().mark((function t(e,n,o){var i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:null!=(i=o.value)?i:r.toNano("0.05"),body:r.beginCell().storeUint(pt.POSITIONNFTV3_NFT_TRANSFER,32).storeUint(0,64).storeAddress(o.to).storeAddress(o.responseTo).storeBit(!1).storeCoins(null!=(a=o.forwardAmount)?a:BigInt(0)).storeMaybeRef(o.forwardBody).endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getBalance=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("balance",[]);case 2:return t.abrupt("return",{number:t.sent.stack.readNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUserAddress=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getUserAddress",[]);case 2:return t.abrupt("return",t.sent.stack.readAddress());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPoolAddress=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPoolAddress",[]);case 2:return t.abrupt("return",t.sent.stack.readAddress());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPositionInfo=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPositionInfo",[]);case 2:return t.abrupt("return",{liquidity:(n=t.sent.stack).readBigNumber(),tickLow:n.readNumber(),tickHigh:n.readNumber(),feeGrowthInside0LastX128:n.readBigNumber(),feeGrowthInside1LastX128:n.readBigNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getData=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_nft_data",[]);case 2:return t.abrupt("return",{inited:(n=t.sent.stack).readBoolean(),index:n.readNumber(),collection:n.readAddressOpt(),owner:n.readAddressOpt(),content:n.readCellOpt()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}(),Se=BigInt(2)*BigInt(24)*BigInt(60)*BigInt(60);function Ne(t){var e,n,o,i;return r.beginCell().storeAddress(t.adminAddress).storeAddress(null!=(e=t.poolAdminAddress)?e:t.adminAddress).storeAddress(t.poolFactoryAddress).storeUint(null!=(n=t.flags)?n:0,64).storeUint(0,64).storeRef(r.beginCell().storeRef(t.poolv3_code).storeRef(t.accountv3_code).storeRef(t.position_nftv3_code).endCell()).storeRef(r.beginCell().storeUint(null!=(o=t.timelockDelay)?o:Se,64).storeUint(0,3).endCell()).storeUint(null!=(i=t.nonce)?i:0,64).endCell()}var Le=function(){function t(t,e){this.address=t,this.init=e}t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:Ne(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:r.beginCell().endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.deployPoolMessage=function(t,e,n,o,i,a){var s,u;return r.beginCell().storeUint(pt.ROUTERV3_CREATE_POOL,32).storeUint(0,64).storeAddress(t).storeAddress(e).storeUint(n,24).storeUint(o,160).storeUint(i?1:0,1).storeUint(a.protocolFee?a.protocolFee:10001,16).storeUint(a.lpFee?a.lpFee:10001,16).storeUint(a.currentFee?a.currentFee:10001,16).storeRef(null!=(s=a.nftContentPacked)?s:wt).storeRef(null!=(u=a.nftItemContentPacked)?u:Pt).storeRef(r.beginCell().storeAddress(a.jetton0Minter).storeAddress(a.jetton1Minter).storeAddress(a.controllerAddress).endCell()).endCell()},t.unpackDeployPoolMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.ROUTERV3_CREATE_POOL)throw Error("Wrong opcode");e.loadUint(64);var n=e.loadAddress(),r=e.loadAddress(),o=e.loadInt(24),i=e.loadUintBig(160),a=0!=e.loadUint(1),s=e.loadUint(16),u=s<10001?s:void 0,c=e.loadUint(16),l=c<10001?c:void 0,A=e.loadUint(16),d=A<10001?A:void 0,f=e.loadRef(),p=e.loadRef(),g=e.loadRef().beginParse();return{jetton0WalletAddr:n,jetton1WalletAddr:r,tickSpacing:o,sqrtPriceX96:i,activatePool:a,jetton0Minter:g.loadAddress(),jetton1Minter:g.loadAddress(),controllerAddress:g.loadAddress(),nftContentPacked:f,nftItemContentPacked:p,protocolFee:u,lpFee:l,currentFee:d}},e.sendDeployPool=function(){var e=d(l().mark((function e(n,o,i,a,s,u,c,A,d){var f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=t.deployPoolMessage(a,s,u,c,A,d),e.next=3,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:f});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i,a,s,u,c){return e.apply(this,arguments)}}(),e.sendResetGas=function(){var t=d(l().mark((function t(e,n,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.beginCell().storeUint(pt.ROUTERV3_RESET_GAS,32).storeUint(0,64).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:i});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.changeAdminStartMessage=function(t){var e=r.beginCell().storeUint(pt.ROUTERV3_CHANGE_ADMIN_START,32).storeUint(0,64);return null==t.newAdmin?(e.storeUint(0,1),e.storeAddress(null)):(e.storeUint(1,1),e.storeAddress(t.newAdmin)),null==t.newFlags?(e.storeUint(0,1),e.storeUint(0,64)):(e.storeUint(1,1),e.storeUint(t.newFlags,64)),null==t.newCode?e.storeUint(0,1):e.storeMaybeRef(t.newCode),e.endCell()},t.unpackChangeAdminStartMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.ROUTERV3_CHANGE_ADMIN_START)throw Error("Wrong opcode");e.loadUint(64);var n=e.loadBoolean(),r=n?e.loadAddress():void 0;n||e.loadUint(2);var o=e.loadBoolean(),i=o?e.loadUintBig(64):void 0;o||e.loadUintBig(64);var a=e.loadMaybeRef();return{newAdmin:r,newFlags:i,newCode:null!=a?a:void 0}},e.sendChangeAdminStart=function(){var e=d(l().mark((function e(n,o,i,a){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.changeAdminStartMessage(a),e.next=3,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),t.changeAdminCommitMessage=function(){return r.beginCell().storeUint(pt.ROUTERV3_CHANGE_ADMIN_COMMIT,32).storeUint(0,64).endCell()},t.unpackChangeAdminCommitMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.ROUTERV3_CHANGE_ADMIN_COMMIT)throw Error("Wrong opcode");return e.loadUint(64),{}},e.sendChangeAdminCommit=function(){var e=d(l().mark((function e(n,o,i){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.changeAdminCommitMessage(),e.next=3,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.changeRouterParamMessage=function(t){var e,n;return r.beginCell().storeUint(pt.ROUTERV3_CHANGE_PARAMS,32).storeUint(0,64).storeUint(t.newPoolFactory?1:0,1).storeAddress(null!=(e=t.newPoolFactory)?e:O).storeUint(t.newPoolAdmin?1:0,1).storeAddress(null!=(n=t.newPoolAdmin)?n:O).endCell()},t.unpackChangeRouterParamMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.ROUTERV3_CHANGE_PARAMS)throw Error("Wrong opcode");e.loadUint(64);var n=e.loadBit(),r=e.loadAddress(),o=n?r:void 0,i=e.loadBit(),a=e.loadAddress();return{newPoolAdmin:i?a:void 0,newPoolFactory:o}},e.sendChangeRouterParams=function(){var e=d(l().mark((function e(n,o,i,a){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.changeRouterParamMessage(a),e.next=3,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),e.getState=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getRouterState",[]);case 2:return t.abrupt("return",{admin:(n=t.sent.stack).readAddress(),pool_admin:n.readAddress(),pool_factory:n.readAddress(),flags:n.readBigNumber(),pool_seqno:n.readBigNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAdminAddress=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getState(e);case 2:return t.abrupt("return",t.sent.admin);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getPoolFactoryAddress=function(){var t=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getState(e);case 2:return t.abrupt("return",t.sent.pool_factory);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getPoolAddress=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPoolAddress",[{type:"slice",cell:r.beginCell().storeAddress(n).endCell()},{type:"slice",cell:r.beginCell().storeAddress(o).endCell()}]);case 2:return t.abrupt("return",t.sent.stack.readAddress());case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getChildContracts=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getChildContracts",[]);case 2:return t.abrupt("return",{poolCode:(n=t.sent.stack).readCell(),accountCode:n.readCell(),positionNFTCode:n.readCell()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPoolInitialData=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPoolInitialData",[{type:"slice",cell:r.beginCell().storeAddress(n).endCell()},{type:"slice",cell:r.beginCell().storeAddress(o).endCell()}]);case 2:return t.abrupt("return",t.sent.stack.readCell());case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getPoolStateInit=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPoolStateInit",[{type:"slice",cell:r.beginCell().storeAddress(n).endCell()},{type:"slice",cell:r.beginCell().storeAddress(o).endCell()}]);case 2:return t.abrupt("return",t.sent.stack.readCell());case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t}();function Be(t){return r.beginCell().storeAddress(t.user).storeAddress(t.pool).storeRef(r.beginCell().storeCoins(t.stored0).storeCoins(t.stored1).storeCoins(t.enough0).storeCoins(t.enough1).endCell()).endCell()}Le.RESULT_SWAP_OK=gt.POOLV3_RESULT_SWAP_OK,Le.RESULT_BURN_OK=gt.POOLV3_RESULT_BURN_OK;var xe=function(){function t(t,e){this.address=t,this.init=e}t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:Be(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:r.beginCell().endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.sendResetGas=function(){var t=d(l().mark((function t(e,n,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.beginCell().storeUint(pt.ACCOUNTV3_RESET_GAS,32).storeUint(0,64).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:i});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.sendAddLiquidity=function(){var t=d(l().mark((function t(e,n,o,i,a,s){var u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=r.beginCell().storeUint(pt.ACCOUNTV3_ADD_LIQUIDITY,32).storeCoins(i).storeCoins(a).storeCoins(s).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:u});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),e.sendRefundMe=function(){var t=d(l().mark((function t(e,n,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.beginCell().storeUint(pt.ACCOUNTV3_REFUND_ME,32).storeUint(0,64).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:i});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.refundMe=function(){var t=d(l().mark((function t(e,n,o){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.beginCell().storeUint(pt.ACCOUNTV3_REFUND_ME,32).endCell(),t.next=3,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:i});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getAccountData=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("get_account_data",[]);case 2:return t.abrupt("return",{user_address:(n=t.sent.stack).readAddress(),pool_address:n.readAddress(),amount0:n.readBigNumber(),amount1:n.readBigNumber(),enought0:n.readBigNumber(),enought1:n.readBigNumber()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}();function Me(t){return r.beginCell().storeAddress(t.adminAddress).storeAddress(t.routerAddress).storeRef(t.nftv3Content).storeRef(t.nftv3itemContent).endCell()}var Ue,be,ke=function(){function t(t,e){this.address=t,this.init=e}t.createFromConfig=function(e,n,o){void 0===o&&(o=0);var i={code:n,data:Me(e)};return new t(r.contractAddress(o,i),i)};var e=t.prototype;return e.sendDeploy=function(){var t=d(l().mark((function t(e,n,o){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:r.beginCell().endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),t.deployPoolMessage=function(t,e,n,o,i,a){return r.beginCell().storeUint(pt.POOL_FACTORY_CREATE_POOL,32).storeUint(0,64).storeAddress(t).storeAddress(e).storeUint(n,160).storeUint(o,16).storeRef(r.beginCell().storeAddress(i).storeAddress(a).endCell()).endCell()},t.unpackDeployPoolMessage=function(t){var e=t.beginParse();if(e.loadUint(32)!=pt.ROUTERV3_CREATE_POOL)throw Error("Wrong opcode");e.loadUint(64);var n=e.loadAddress(),r=e.loadAddress(),o=e.loadUintBig(160),i=e.loadUintBig(16),a=e.loadRef().beginParse();return{jetton0Minter:n,jetton1Minter:r,sqrtPriceX96:o,settings:i,jetton0Wallet:a.loadAddress(),jetton1Wallet:a.loadAddress()}},e.sendDeployPool=function(){var e=d(l().mark((function e(n,o,i,a,s,u,c,A,d){var f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=t.deployPoolMessage(a,s,u,c,A,d),e.next=3,n.internal(o,{value:i,sendMode:r.SendMode.PAY_GAS_SEPARATELY,body:f});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i,a,s,u,c){return e.apply(this,arguments)}}(),e.sendNewData=function(){var t=d(l().mark((function t(e,n,o,i,a,s){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.internal(n,{value:o,body:r.beginCell().storeUint(pt.POOL_FACTORY_CHANGE_PARAMS,32).storeUint(0,64).storeAddress(i).storeRef(null!=a?a:r.Cell.EMPTY).storeRef(null!=s?s:r.Cell.EMPTY).endCell()});case 2:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}(),e.getPoolFactoryData=function(){var t=d(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("getPoolFactoryData",[]);case 2:return t.abrupt("return",{admin_address:(n=t.sent.stack).readAddress(),router_address:n.readAddress(),nftv3_content:n.readCell(),nftv3item_content:n.readCell()});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}();function De(){return(De=d(l().mark((function t(e,n,o,i){var a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.open(new St(r.Address.parse(n))),!o){t.next=8;break}return t.next=4,a.getSwapEstimate(o,e,BigInt(G.MIN_SQRT_RATIO.toString())+BigInt(1));case 4:return t.abrupt("return",-t.sent.amount1);case 8:return t.next=10,a.getSwapEstimate(o,e,BigInt(G.MAX_SQRT_RATIO.toString())-BigInt(1));case 10:return t.abrupt("return",-t.sent.amount0);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(Ue=exports.SwapType||(exports.SwapType={}))[Ue.TON_TO_JETTON=0]="TON_TO_JETTON",Ue[Ue.JETTON_TO_TON=1]="JETTON_TO_TON",Ue[Ue.JETTON_TO_JETTON=2]="JETTON_TO_JETTON",function(t){t[t.TON=0]="TON",t[t.JETTON=1]="JETTON",t[t.TON_JETTON=2]="TON_JETTON",t[t.JETTON_TON=3]="JETTON_TON"}(be||(be={}));var Fe=function t(e){var n,r=e.length>1,o=e[0].transaction.in_msg;if("0x0f8a7ea5"===(null==o?void 0:o.op_code)&&(null==o||null==(n=o.destination)?void 0:n.address)===u.Address.parse(L).toRawString())return BigInt(o.decoded_body.amount);if(r){var i,a=e[1].transaction.in_msg;if("0x0f8a7ea5"===(null==a?void 0:a.op_code)&&(null==a||null==(i=a.destination)?void 0:i.address)===u.Address.parse(L).toRawString())return BigInt(a.decoded_body.amount);if(!e[1].children&&e[0].children){var s=t(e[0].children);if(s!==BigInt(0))return s}else if(e[1].children&&!e[0].children){var c=t(e[1].children);if(c!==BigInt(0))return c}}else if(e[0].children){var l=t(e[0].children);if(l!==BigInt(0))return l}return BigInt(0)},Ve=function(){function t(){}return t.createDeployPoolMessage=function(t,e,n,r,o,i){var a=ke.deployPoolMessage(t,e,n,r,o,i);return{to:u.Address.parse(S),value:this.gasUsage.DEPLOY_POOL_GAS,body:a}},t.createMintMessage=function(t,r,o,i,a,s,c,l,A){void 0===c&&(c=new Wt(1,100)),void 0===l&&(l=this.gasUsage.MINT_GAS),void 0===A&&(A=this.gasUsage.TRANSFER_GAS*BigInt(2)),e.greaterThan(a.liquidity,C)||n(!1);var d,f,p=l/BigInt(2),g=[],h=a.mintAmounts,T=h.amount0,I=h.amount1,_=St.orderJettonId(t,r),E=_?BigInt(T.toString()):BigInt(I.toString()),O=_?BigInt(I.toString()):BigInt(T.toString()),m=c.add(v),w=BigInt(m.multiply(E.toString()).quotient.toString()),R=BigInt(m.multiply(O.toString()).quotient.toString()),P=t.equals(u.Address.parse(L)),S=r.equals(u.Address.parse(L));d=u.beginCell().storeUint(pt.POOLV3_FUND_ACCOUNT,32).storeAddress(r).storeCoins(E).storeCoins(O).storeUint(BigInt(a.liquidity.toString()),128).storeInt(BigInt(a.tickLower.toString()),24).storeInt(BigInt(a.tickUpper.toString()),24).endCell(),f=u.beginCell().storeUint(pt.POOLV3_FUND_ACCOUNT,32).storeAddress(t).storeCoins(O).storeCoins(E).storeUint(BigInt(a.liquidity.toString()),128).storeInt(BigInt(a.tickLower.toString()),24).storeInt(BigInt(a.tickUpper.toString()),24).endCell(),P&&(d=u.beginCell().storeUint(Re.tonTransfer,32).storeUint(0,64).storeCoins(E).storeAddress(s).storeUint(1,1).storeRef(d).endCell()),S&&(f=u.beginCell().storeUint(Re.tonTransfer,32).storeUint(0,64).storeCoins(O).storeAddress(s).storeUint(1,1).storeRef(f).endCell());var N=ve.transferMessage(w,u.Address.parse(y),s,null,A,d),B=ve.transferMessage(R,u.Address.parse(y),s,null,A,f);return S&&R>BigInt(0)?g.push({to:u.Address.parse(L),value:R+p+A,body:f}):!S&&O>BigInt(0)&&g.push({to:i,value:p+A,body:B}),P&&w>BigInt(0)?g.push({to:u.Address.parse(L),value:w+p+A,body:d}):!P&&E>BigInt(0)&&g.push({to:o,value:p+A,body:N}),g},t.createEmulatedMintMessage=function(){var t=d(l().mark((function t(e,n,r,o,i,a,s,c,A,d){var f,p,g,h,T,I,_,E;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s&&(s=new Wt(1,100)),f=this.gasUsage.MINT_GAS,p=this.gasUsage.TRANSFER_GAS*BigInt(2),g=this.createMintMessage(e,n,r,o,i,a,s),!(c&&A&&d)){t.next=15;break}return t.prev=5,t.next=8,Te(c,g,a.toString(),A,d);case 8:(h=t.sent)&&(I=null==(T=h.event.actions.find((function(t){return t.TonTransfer})))||null==(T=T.TonTransfer)?void 0:T.amount,_=BigInt(Math.abs(h.event.extra)),f=I?_-BigInt(I||0):_),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log("error emulation - ",t.t0);case 15:return E={messages:g,txFee:f,forwardGas:p*BigInt(g.length),gasLimit:u.toNano(1===g.length?.3:.6)},console.log("success emulation - ",E),t.abrupt("return",E);case 18:case"end":return t.stop()}}),t,this,[[5,12]])})));return function(e,n,r,o,i,a,s,u,c,l){return t.apply(this,arguments)}}(),t.createBurnMessage=function(t,e,n,r,o,i,a){return void 0===i&&(i=this.gasUsage.BURN_GAS),void 0===a&&(a=BigInt(0)),{to:t,value:i+a,body:u.beginCell().storeUint(pt.POOLV3_START_BURN,32).storeUint(0,64).storeUint(e,64).storeUint(o,128).storeInt(n,24).storeInt(r,24).endCell()}},t.createEmulatedBurnMessage=function(){var t=d(l().mark((function t(e,n,r,o,i,a,s,c,A,d,f,p,g){var h,T,I,_,E,O,m,C,v,w,R;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.gasUsage.BURN_GAS,T=BigInt(0),I=this.createBurnMessage(e,n,r,o,i),_=a&&u.Address.parse(a.jetton.address).equals(u.Address.parse(N)),E=s&&u.Address.parse(s.jetton.address).equals(u.Address.parse(N)),O=_?BigInt(a.quotient.toString())+BigInt((null==c?void 0:c.quotient.toString())||0):E?BigInt(s.quotient.toString())+BigInt((null==A?void 0:A.quotient.toString())||0):BigInt(0),!(f&&d&&p&&g)){t.next=17;break}return t.prev=7,t.next=10,Te(d,[I],f,p,g);case 10:(m=t.sent)&&(C=BigInt(Math.abs(m.event.extra)),O&&O>BigInt(0)?(w=_&&"0"===(null==s?void 0:s.quotient.toString())&&"0"===(null==A?void 0:A.quotient.toString())||E&&"0"===(null==a?void 0:a.quotient.toString())&&"0"===(null==c?void 0:c.quotient.toString()),R=null==(v=m.event.actions.find((function(t){return t.TonTransfer})))||null==(v=v.TonTransfer)?void 0:v.amount,h=O+(h-BigInt(R||0)-(w?-C:C))):h-=C),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.log("error emulation - ",t.t0);case 17:return t.abrupt("return",{message:I,txFee:h,forwardGas:T,gasLimit:I.value});case 19:case"end":return t.stop()}}),t,this,[[7,14]])})));return function(e,n,r,o,i,a,s,u,c,l,A,d,f){return t.apply(this,arguments)}}(),t.createCollectMessage=function(t,e,n,r,o,i){return void 0===o&&(o=this.gasUsage.BURN_GAS),void 0===i&&(i=BigInt(0)),this.createBurnMessage(t,e,n,r,BigInt(0),o,i)},t.createEmulatedCollectMessage=function(){var t=d(l().mark((function t(e,n,r,o,i,a,s,c,A,d){var f,p,g,h,T,I,_,E,O,m,C;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=this.gasUsage.BURN_GAS,p=BigInt(0),g=this.createCollectMessage(e,n,r,o),h=i&&u.Address.parse(i.jetton.address).equals(u.Address.parse(N)),T=a&&u.Address.parse(a.jetton.address).equals(u.Address.parse(N)),I=h&&i.greaterThan("0")&&null!=a&&a.equalTo("0")||T&&a.greaterThan("0")&&null!=i&&i.equalTo("0")?be.TON:h&&i.greaterThan("0")&&null!=a&&a.greaterThan("0")||T&&a.greaterThan("0")&&null!=i&&i.greaterThan("0")?be.TON_JETTON:be.JETTON,!(c&&s&&A&&d)){t.next=32;break}return t.prev=7,t.next=10,Te(s,[g],c,A,d);case 10:if(!(_=t.sent)){t.next=27;break}O=BigInt(Math.abs(_.event.extra)),m=BigInt((null==(E=_.event.actions.find((function(t){return t.TonTransfer})))||null==(E=E.TonTransfer)?void 0:E.amount)||0),C=function(t,e){return BigInt(t.quotient.toString())+(f-m-O*BigInt(e))},t.t0=I,t.next=t.t0===be.TON?18:t.t0===be.TON_JETTON?21:t.t0===be.JETTON?24:26;break;case 18:return null!=i&&i.greaterThan("0")&&(f=C(i,-1)),null!=a&&a.greaterThan("0")&&(f=C(a,-1)),t.abrupt("break",27);case 21:return h&&null!=i&&i.greaterThan("0")&&(f=C(i,1)),T&&null!=a&&a.greaterThan("0")&&(f=C(a,1)),t.abrupt("break",27);case 24:return f-=O,t.abrupt("break",27);case 26:return t.abrupt("break",27);case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(7),console.log("error emulation - ",t.t1);case 32:return t.abrupt("return",{message:g,txFee:f,forwardGas:p,gasLimit:g.value});case 34:case"end":return t.stop()}}),t,this,[[7,29]])})));return function(e,n,r,o,i,a,s,u,c,l){return t.apply(this,arguments)}}(),t.createSwapExactInMessage=function(t,e,n,r,o,i,a,s,l){var A,d;switch(void 0===s&&(s=this.gasUsage.SWAP_GAS),void 0===l&&(l=this.gasUsage.TRANSFER_GAS*BigInt(4)),A=u.beginCell().storeUint(pt.POOLV3_SWAP,32).storeAddress(e).storeUint(i,160).storeCoins(o).storeAddress(n).storeUint(0,1).endCell(),a){case exports.SwapType.TON_TO_JETTON:return A=(d=Re.tonTransfer,u.beginCell().storeUint("string"==typeof d?c.crc32(d):d,32).storeUint(BigInt(Math.floor(Math.random()*Math.pow(2,31))),64)).storeCoins(r).storeAddress(n).storeUint(1,1).storeRef(A).endCell(),{to:u.Address.parse(L),value:r+s+l,body:A};default:return{to:t,value:s+l,body:ve.transferMessage(r,u.Address.parse(y),n,null,s+this.gasUsage.SWAP_GAS_SLIPPAGE,A),sendMode:u.SendMode.PAY_GAS_SEPARATELY}}},t.createEmulatedSwapExactInMessage=function(){var t=d(l().mark((function t(e,n,r,o,i,a,s,u,c,A){var d,f,p,g,h,T,I,_,E;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=this.gasUsage.SWAP_GAS,f=this.gasUsage.TRANSFER_GAS*BigInt(4),p=this.createSwapExactInMessage(e,n,r,o,i,a,s),!(u&&c&&A)){t.next=27;break}return t.prev=4,t.next=7,Te(u,[p],r.toString(),c,A);case 7:if(!(g=t.sent)){t.next=22;break}T=BigInt((null==(h=g.event.actions.find((function(t){return t.TonTransfer})))||null==(h=h.TonTransfer)?void 0:h.amount)||0),I=BigInt(Math.abs(g.event.extra)),t.t0=s,t.next=t.t0===exports.SwapType.TON_TO_JETTON?14:t.t0===exports.SwapType.JETTON_TO_TON?16:t.t0===exports.SwapType.JETTON_TO_JETTON?19:21;break;case 14:return d=I,t.abrupt("break",21);case 16:return _=g.trace.children?Fe(g.trace.children):BigInt(0),d=_?I-(T-_):I,t.abrupt("break",21);case 19:return d=BigInt(Math.abs(g.event.extra)),t.abrupt("break",21);case 21:console.log("success emulation - ",g);case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(4),console.log("error emulation - ",t.t1);case 27:return E={message:p,txFee:d,forwardGas:f,gasLimit:s===exports.SwapType.TON_TO_JETTON?p.value-o:p.value},t.abrupt("return",E);case 29:case"end":return t.stop()}}),t,this,[[4,24]])})));return function(e,n,r,o,i,a,s,u,c,l){return t.apply(this,arguments)}}(),t}();Ve.gasUsage={TRANSFER_GAS:u.toNano(.05),MINT_GAS:u.toNano(.4),SWAP_GAS:u.toNano(.4),SWAP_GAS_SLIPPAGE:u.toNano(.1),BURN_GAS:u.toNano(.3),BURN_GAS_SLIPPAGE:u.toNano(.1),DEPLOY_POOL_GAS:u.toNano(.2)},exports.ACCOUNTV3_CODE=x,exports.ADDRESS_ZERO=E,exports.AccountV3Contract=xe,exports.BLACK_HOLE_ADDRESS=O,exports.ContractErrors=gt,exports.ContractOpcodes=pt,exports.DEFAULT_TICK_SPACING=60,exports.Errors=Ee,exports.ErrorsLookup={73:"JETTON_NOT_ADMIN",74:"JETTON_UNOUTHORIZED_BURN",75:"JETTON_DISCOVERY_FEE_NOT_MATCHED",80:"POOLV3_NO_LIQUIDITY",81:"POOLV3_ZERO_OUTPUT",82:"POOLV3_INVALID_CALLER,POSITIONNFTV3_INVALID_CALLER",83:"POOLV3_INSUFFICIENT_GAS",86:"POOLV3_INVALID_TOKEN",87:"POOLV3_LOW_AMOUNT",90:"POOLV3_MATH_ERROR",91:"POOLV3_TICK_IMPOSSIBLE_LOW",92:"POOLV3_TICK_IMPOSSIBLE_HIGH",93:"POOLV3_PRICE_IMPOSSIBLE_LOW",94:"POOLV3_PRICE_IMPOSSIBLE_HIGH",95:"POOLV3_PRICE_LIMIT_WRONG",96:"POOLV3_LOWER_THEN_MIN_OUT",100:"POOLV3_INVALID_RECIPIENT",101:"POOLV3_POOL_UNDEPLOYED",102:"POOLV3_POOL_INACTIVE",103:"POOLV3_FORGED_NFT",104:"POOLV3_BURN_PARAMETERS_WRONG",105:"POOLV3_RESERVES_PROTECTION_ERROR_SIGN",106:"POOLV3_RESERVES_PROTECTION_ERROR_DRAIN",107:"POOLV3_POOL_MALFORMED",110:"POOL_FACTORY_INVALID_AMOUNT,ROUTERV3_INVALID_AMOUNT",111:"POOL_FACTORY_INVALID_CALLER,ROUTERV3_INVALID_CALLER",112:"POOL_FACTORY_POOL_ILLEGAL_PARAMS,ROUTERV3_POOL_ILLEGAL_PARAMS",113:"POOL_FACTORY_INSUFFICIENT_GAS,ROUTERV3_INSUFFICIENT_GAS",114:"ROUTERV3_TIMELOCK_NOT_RESPECTED",200:"POOLV3_RESULT_SWAP_OK",201:"POOLV3_RESULT_BURN_OK",202:"POOLV3_RESULT_MINT_OK",203:"POOLV3_RESULT_COLLECT_OK",220:"POOLV3_RESULT_TICK_IMPOSSIBLE_LOW",221:"POOLV3_RESULT_TICK_IMPOSSIBLE_HIGH",222:"POOLV3_RESULT_WRONG_TICK_SPACING",223:"POOLV3_RESULT_TOO_MANY_TICKS",224:"POOLV3_RESULT_TOO_MUCH_LIQUIDITY",225:"POOLV3_RESULT_NOT_ENOUGH_COINS",226:"POOLV3_RESULT_NO_LIQUIDITY",230:"POOLV3_RESULT_SWAP_OUTPUT_TOO_SMALL",333:"COMMON_WRONG_WORKCHAIN",401:"NFT_NOT_OWNER,POSITIONNFTV3_NOT_AN_OWNER",405:"POSITIONNFTV3_INIT_NOT_BY_COLLECTION",408:"POSITIONNFTV3_ALREADY_BURNED",409:"POSITIONNFTV3_WRONG_BURN_TICKS",705:"JETTON_NOT_OWNER",706:"JETTON_BALANCE_ERROR",707:"JETTON_NOT_ENOUGH_GAS,JETTON_NOT_VALID_WALLET",708:"POSITIONNFTV3_MESSAGE_TOO_LONG",709:"JETTON_INVALID_OP,JETTON_NOT_ENOUGH_TON",65535:"COMMON_WRONG_OP"},exports.FEE_DENOMINATOR=1e4,exports.Fraction=rt,exports.FullMath=at,exports.IMPOSSIBLE_FEE=10001,exports.INITIAL_POOL_FEE=100,exports.Jetton=ee,exports.JettonAmount=it,exports.JettonMinter=me,exports.JettonWallet=ve,exports.LiquidityMath=dt,exports.MaxUint256=P,exports.NEGATIVE_ONE=m,exports.NoTickDataProvider=_,exports.ONE=v,exports.Op=_e,exports.OpcodesLookup={21:"JETTON_MINT",32736093:"TONPROXY_MINTER_TON_TRANSFER",85167505:"NFT_OWNERSHIP_ASSIGNED,POSITIONNFTV3_OWNERSHIP_ASSIGNED",99042967:"POOLV3_LOCK",120815319:"SINKV3_TEST_GAS",188465300:"ROUTERTV3_CHANGE_ADMIN",200537159:"ACCOUNTV3_REFUND_ME",260734629:"JETTON_TRANSFER",395134233:"JETTON_INTERNAL_TRANSFER",436968785:"NFT_EDIT_CONTENT,POSITIONNFTV3_EDIT_CONTENT",470040874:"NFT_TRANSFER_EDITORSHIP,POSITIONNFTV3_TRANSFER_EDITORSHIP",490969824:"ACCOUNTV3_GETTER_LP_ACCOUNT_DATA",701638965:"TONPROXY_MINTER_RESET_GAS",745978227:"JETTON_PROVIDE_WALLET_ADDRESS,TONPROXY_MINTER_PROVIDE_WALLET_ADDRESS",774911215:"ROUTERV3_CREATE_POOL",801842850:"NFT_GET_STATIC_DATA,POSITIONNFTV3_GET_STATIC_DATA",839232957:"POOLV3_UNLOCK",1052660785:"ACCOUNTV3_ADD_LIQUIDITY",1117846339:"ACCOUNTV3_RESET_GAS,POOL_FACTORY_RESET_GAS,POOLV3_RESET_GAS,ROUTERV3_RESET_GAS",1142700525:"POOLV3_INIT",1147723383:"POOLV3_FUND_ACCOUNT",1187656538:"POSITIONNFTV3_POSITION_BURN",1291331587:"ACCOUNTV3_DIRECT_ADD_LIQUIDITY",1360675939:"NFT_EDITORSHIP_ASSIGNED,POSITIONNFTV3_EDITORSHIP_ASSIGNED",1393254188:"POOLV3_START_BURN",1457515402:"ACCOUNTV3_CB_ADD_LIQUIDITY",1499400124:"JETTON_BURN",1540053636:"ROUTERTV3_ADD_POOL",1592132511:"POSITIONNFTV3_FEE_COLLECTED",1607220500:"NFT_TRANSFER,POSITIONNFTV3_NFT_TRANSFER",1698746245:"TONPROXY_MINTER_INTERNAL_DEPLOY",1765620048:"NFT_GET_ROYALTY_PARAMS,POSITIONNFTV3_GET_ROYALTY_PARAMS",1809628856:"POOLV3_SET_FEE",1935855772:"JETTON_TRANSFER_NOTIFICATION",2078119902:"JETTON_BURN_NOTIFICATION",2148768470:"POOLV3_FILL_TICK_M",2171612920:"POOLV3_MINT",2281694051:"ROUTERV3_CHANGE_PARAMS",2302962242:"ACCOUNTV3_CB_REFUND_ME",2339837749:"NFT_REPORT_STATIC_DATA,POSITIONNFTV3_REPORT_STATIC_DATA",2340806243:"POOL_FACTORY_ORDER_INIT",2562376709:"ROUTERV3_CHANGE_ADMIN_COMMIT",2660929407:"POOL_FACTORY_CREATE_POOL",2715461997:"ROUTERV3_PAY_TO",2818267384:"POOLV3_SWAP",2831876269:"NFT_REPORT_ROYALTY_PARAMS,POSITIONNFTV3_REPORT_ROYALTY_PARAMS",2853024727:"POOL_FACTORY_CHANGE_PARAMS",2921715614:"TONPROXY_MINTER_TON_REFUND",3479126803:"TONPROXY_MINTER_DEPLOY_WALLET",3513996288:"JETTON_TAKE_WALLET_ADDRESS,TONPROXY_MINTER_TAKE_WALLET_ADDRESS",3556287800:"POOLV3_COLLECT_PROTOCOL",3568515850:"POOL_FACTORY_EXECUTE",3571363899:"ROUTERV3_CHANGE_ADMIN_START",3576854235:"JETTON_EXCESSES,NFT_EXCESSES,POSITIONNFTV3_EXCESSES",3589065258:"POSITIONNFTV3_POSITION_INIT",3610951837:"POOLV3_BURN",3683725347:"POOLV3_SWAP_M",3686251349:"POOLV3_MINT_M",3860080092:"SINKV3_SET",3862520940:"POOLV3_BURN_M",4119290095:"POSITIONNFTV3_OWNERSHIP_ASSIGNED_NOTIFY",4246369255:"SINKV3_ADD",4294967022:"SINKV3_DUMMY"},exports.POOLV3_CODE=U,exports.POOL_FACTORY=S,exports.POSITIONV3_CODE=M,exports.Percent=Wt,exports.Pool=Mt,exports.PoolFactoryContract=ke,exports.PoolMessageManager=Ve,exports.PoolV3Contract=St,exports.Position=Xt,exports.PositionLibrary=ue,exports.PositionNFTV3Contract=ye,exports.Price=ft,exports.Q192=R,exports.Q96=w,exports.ROUTER=y,exports.ROUTERV3_CODE=B,exports.Route=zt,exports.RouterV3Contract=Le,exports.SqrtPriceMath=ct,exports.TIMELOCK_DELAY_DEFAULT=Se,exports.Tick=K,exports.TickInfoWrapper=mt,exports.TickLibrary=ae,exports.TickList=z,exports.TickListDataProvider=Z,exports.TickMath=G,exports.Trade=$t,exports.WalletContract=pe,exports.ZERO=C,exports.accountv3ContractConfigToCell=Be,exports.calculatePoolStateInit=Lt,exports.computePoolAddress=Bt,exports.currencyEquals=function(t,e){return t instanceof ee&&e instanceof ee?t.equals(e):!(t instanceof ee||e instanceof ee||t!==e)},exports.defaultJettonKeys=ht,exports.defaultNftKeys=Tt,exports.displayContentCell=function(t,e,n){void 0===e&&(e=!0);var o=t.beginParse(),i=o.loadUint(8);if(1==i){var a=0==o.remainingBits;if(a&&0==o.remainingRefs)console.log("No data in content cell!\n");else{var u=a?o.loadStringRefTail():o.loadStringTail();console.log("Content metadata url:"+u+"\n")}}else if(0==i){for(var c,l=void 0!==n&&n.length>0,A=r.Dictionary.load(r.Dictionary.Keys.BigUint(256),Et,o),d={},f=I(e?l?[].concat(ht,n):ht:l?[].concat(Tt,n):Tt);!(c=f()).done;){var p=c.value,g=BigInt("0x"+s.sha256_sync(p).toString("hex")),h=A.get(g);void 0!==h&&(d[p]=h)}console.log("Content:"+JSON.stringify(d,null,2))}else console.log("Unknown content format indicator:"+i+"\n")},exports.embedJettonData=function(t,e,n,o,i){var a=t.beginParse();return r.beginCell().storeInt(a.loadUint(8),8).storeMaybeRef(a.loadRef()).storeUint(n,6).storeUint(Buffer.from(e).length,8).storeBuffer(Buffer.from(e)).storeUint(i,6).storeUint(Buffer.from(o).length,8).storeBuffer(Buffer.from(o)).endCell()},exports.emulateMessage=Te,exports.encodeSqrtRatioX96=Ft,exports.getEmojiHash=function(){for(var t,e=[],n=I(fe);!(t=n()).done;)e.push(t.value.hash(0));for(var r=function(t){for(var e=t[0].length,n=Buffer.alloc(e),r=0;r<e;r++)for(var o=0;o<t.length;o++)n[r]=n[r]^t[o][r];return n}(Object.values(e)),o=BigInt("0x"+r.toString("hex"))%function(t,e){for(var n=BigInt(1),r=BigInt(0);r<e;r++)n*=t;return n}(BigInt(2),BigInt(42)),i=BigInt(de.length),a="",s=0;s<4;s++)a+=de[Number(o%i)],o/=i;return a},exports.getSwapEstimate=function(t,e,n,r){return De.apply(this,arguments)},exports.getTickToPrice=function(t,e,n,r){if(void 0===r&&(r=!0),t&&e&&"number"==typeof n)return Vt(t,e,n,r)},exports.isSorted=q,exports.jWalletOpcodes=we,exports.jettonContentToCell=function(t){return r.beginCell().storeUint(t.type,8).storeStringTail(t.uri).endCell()},exports.jettonMinterConfigToCell=Oe,exports.jettonWalletConfigToCell=Ce,exports.maxAmountSpend=function(t){if(t)return r.Address.parse(t.jetton.address).equals(r.Address.parse(N))?e.greaterThan(t.quotient,ce)?it.fromRawAmount(t.jetton,e.subtract(t.quotient,ce)):it.fromRawAmount(t.jetton,e.BigInt(0)):t},exports.maxLiquidityForAmounts=Yt,exports.mostSignificantBit=D,exports.nearestUsableTick=ne,exports.nftContentPackedDefault=wt,exports.nftContentToPack=vt,exports.nftItemContentPackedDefault=Pt,exports.nftItemContentToPack=Rt,exports.pTON_MINTER=N,exports.pTON_ROUTER_WALLET=L,exports.packJettonOnchainMetadata=Ot,exports.packOffchainMetadata=function(t){return r.beginCell().storeInt(1,8).storeStringTail(t).endCell()},exports.packPoolData=Nt,exports.parseBalance=function(t,e){return void 0===e&&(e=18),le(t||"0",e)},exports.parseWalletVersion=function(t){switch(t){case"wallet_v5r1":return exports.WalletVersion.V5R1;case"wallet_v5":return exports.WalletVersion.V5_BETA;case"wallet_v4r2":return exports.WalletVersion.V4R2;case"wallet_v4r1":return exports.WalletVersion.V4R1;case"wallet_v3r2":return exports.WalletVersion.V3R2;case"wallet_v3r1":return exports.WalletVersion.V3R1;default:return void console.error("Unsupported wallet version: "+t)}},exports.poolFactoryContractConfigToCell=Me,exports.poolv3ContractConfigToCell=yt,exports.poolv3StateInitConfig=function(t,e,n,r,o){var i=St.orderJettonId(t,e);return{router_address:o,jetton0_wallet:i?t:e,jetton1_wallet:i?e:t,accountv3_code:n,position_nftv3_code:r}},exports.positionNFTv3ContractConfigToCell=Pe,exports.priceToClosestTick=Gt,exports.proxyWalletOpcodesV2=Re,exports.routerv3ContractCellToConfig=function(t){var e=t.beginParse(),n=e.loadAddress(),r=e.loadAddress(),o=e.loadAddress(),i=e.loadUintBig(64),a=(e.loadUintBig(64),e.loadRef().beginParse()),s=a.loadRef(),u=a.loadRef(),c=a.loadRef(),l=e.loadRef().beginParse().loadUintBig(64),A=void 0;return 0!=e.remainingBits&&(A=e.loadUintBig(64)),{adminAddress:n,poolAdminAddress:r,poolFactoryAddress:o,flags:i,poolv3_code:s,accountv3_code:u,position_nftv3_code:c,timelockDelay:l,nonce:A}},exports.routerv3ContractConfigToCell=Ne,exports.subIn256=oe,exports.tickToPrice=Vt,exports.tradeComparator=Zt,exports.tryParseAmount=function(t,n){if(t&&n)try{var r=le(t,n.decimals).toString();if("0"!==r)return it.fromRawAmount(n,e.BigInt(r))}catch(e){console.debug('Failed to parse input amount: "'+t+'"',e)}},exports.tryParsePrice=Ae,exports.tryParseTick=function(t,n,r,o){if(t&&n&&r&&o){var i=Ae(t,n,r);if(i){var a=Ft(i.numerator,i.denominator);return ne(e.greaterThanOrEqual(a,G.MAX_SQRT_RATIO)?G.MAX_TICK:e.lessThanOrEqual(a,G.MIN_SQRT_RATIO)?G.MIN_TICK:Gt(i),o)}}},exports.unpackJettonOnchainMetadata=function(t,e,n){void 0===e&&(e=!0);var o=t.beginParse(),i=o.loadUint(8);if(1==i){var a=0==o.remainingBits;if(a&&0==o.remainingRefs)return console.log("No data in content cell!\n"),{};var u=a?o.loadStringRefTail():o.loadStringTail();return console.log("Content metadata url:"+u+"\n"),{uri:u}}if(0==i){for(var c,l=void 0!==n&&n.length>0,A=r.Dictionary.load(r.Dictionary.Keys.BigUint(256),Et,o),d={},f=I(e?l?[].concat(ht,n):ht:l?[].concat(Tt,n):Tt);!(c=f()).done;){var p=c.value,g=BigInt("0x"+s.sha256_sync(p).toString("hex")),h=A.get(g);void 0!==h&&(d[p]=h)}return d}return console.log("Unknown content format indicator:"+i+"\n"),{}},exports.validateAndParseAddress=te,exports.walletConfigToCell=function(t){return r.beginCell().storeCoins(t.balance).storeAddress(t.ownerAddress).storeAddress(t.minterAddress).endCell()};
//# sourceMappingURL=sdk.cjs.production.min.js.map
