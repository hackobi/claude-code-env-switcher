import { EventLog, Contract, LogsSubscription } from "web3-eth-contract";
import Web3, { ContractAbi } from "web3";
import { JobQueueInOrder } from "./queue";
export declare class ContractEventListener<ABIType extends ContractAbi> {
    contract: Contract<ABIType>;
    listeners: {
        [key: string]: {
            isSubscribe: boolean;
            lastBlock: number | undefined;
            eventEmitter?: LogsSubscription;
            handler: (event: EventLog) => Promise<void>;
            queue: JobQueueInOrder;
            httpConfig?: {
                delayBetweenRounds: number;
                blockRange: number;
            };
        };
    };
    contractName: string;
    wssConfig: {
        reSubscribeTime: number;
    };
    httpConfig: {
        delayBetweenRounds: number;
        blockRange: number;
    };
    errorHandler: (error: any, moreInfo: any) => void;
    web3: Web3;
    inOrder: boolean;
    constructor(contract: Contract<ABIType>, contractName: string, errorHandler?: ((error: any, moreInfo: any) => void) | undefined, inOrder?: boolean, wssConfig?: {
        reSubscribeTime: number;
    }, httpConfig?: {
        delayBetweenRounds: number;
        blockRange: number;
    });
    static getEventId(event: EventLog): string;
    addListener(eventName: string, handler: (event: EventLog) => Promise<void>, lastBlock?: number, httpConfig?: {
        delayBetweenRounds: number;
        blockRange: number;
    }): void;
    getPastEventsWithRange(eventName: string, fromBlock: number, blockRange: number): Promise<{
        events: EventLog[];
        lastBlock: string;
    }>;
    websocketListenOnEventOrResetConnection(eventName: string, numberOfRetry?: number): void;
    httpListenOnEventOrResetConnection(eventName: string): Promise<void>;
    listenOnEventOrResetConnection(eventName: string): void;
    stopListenOnEvent(eventName: string): void;
    removeListener(eventName: string): void;
}
//# sourceMappingURL=contract-event-listener.d.ts.map