/**
 * D402Server - Server-side HTTP 402 payment protocol implementation
 *
 * Handles payment verification and content gating for Demos Network applications.
 */
import type { D402ServerConfig, D402PaymentRequirement, D402VerificationResult } from './types';
export declare class D402Server {
    private rpcUrl;
    private cacheTTL;
    private paymentCache;
    constructor(config: D402ServerConfig);
    /**
     * Verify a payment transaction via RPC
     * @param txHash Transaction hash from X-Payment-Proof header
     * @returns Verification result with payment details
     */
    verify(txHash: string): Promise<D402VerificationResult>;
    /**
     * Generate HTTP 402 Payment Required response data
     * @param requirement Payment requirements
     * @returns 402 response object
     */
    require(requirement: D402PaymentRequirement): {
        status: 402;
        body: D402PaymentRequirement;
    };
    /**
     * Validate that a payment matches the requirements
     * @param verification Verification result from verify()
     * @param requirement Original payment requirements
     * @returns True if payment is valid for the resource
     */
    validatePayment(verification: D402VerificationResult, requirement: D402PaymentRequirement): boolean;
    /**
     * Clear expired entries from payment cache
     */
    private cleanCache;
    /**
     * Manually clear the entire payment cache
     */
    clearCache(): void;
}
