/**
 * Key Server Client
 *
 * Client for interacting with Key Server OAuth endpoints.
 * Enables dApps to verify user ownership of GitHub/Discord accounts
 * with DAHR attestation.
 */
import type { KeyServerClientConfig, OAuthService, OAuthInitOptions, OAuthInitResult, OAuthPollResult, OAuthVerifyOptions, OAuthVerificationResult, WalletBinding } from "./types";
export declare class KeyServerClient {
    private readonly endpoint;
    private readonly nodePubKey;
    private readonly defaultWalletAddress?;
    constructor(config: KeyServerClientConfig);
    /**
     * Get list of available OAuth providers
     *
     * @returns Array of available provider names
     * @throws OAuthError if request fails
     */
    getProviders(): Promise<OAuthService[]>;
    /**
     * Initiate an OAuth verification flow
     *
     * @param service - OAuth provider ("github" or "discord")
     * @param options - Optional configuration
     * @returns OAuth flow initiation result with authUrl and state
     * @throws OAuthError if initiation fails
     */
    initiateOAuth(service: OAuthService, options?: OAuthInitOptions): Promise<OAuthInitResult>;
    /**
     * Poll for OAuth verification result
     *
     * @param state - State identifier from initiateOAuth
     * @param walletBinding - Optional wallet binding with signature proving ownership
     * @returns Current status of the OAuth flow
     * @throws OAuthError if polling fails
     */
    pollOAuth(state: string, walletBinding?: WalletBinding): Promise<OAuthPollResult>;
    /**
     * Convenience method: initiate OAuth and wait for completion
     *
     * This method handles the full OAuth flow:
     * 1. Initiates the OAuth flow
     * 2. Calls onAuthUrl callback for dApp to display the URL
     * 3. Resolves wallet binding (if provided as function, calls with state)
     * 4. Polls until completion, timeout, or failure
     * 5. Returns the verified user info and attestation
     *
     * @param service - OAuth provider ("github" or "discord")
     * @param options - Configuration including callbacks
     * @returns Final verification result
     * @throws OAuthError if verification fails or times out
     */
    verifyOAuth(service: OAuthService, options?: OAuthVerifyOptions): Promise<OAuthVerificationResult>;
    /**
     * Internal fetch wrapper with error handling
     */
    private fetch;
    /**
     * Sleep utility for polling
     */
    private sleep;
}
