{"version":3,"sources":["../src/helpers.ts"],"sourcesContent":["import { DEX } from \"./contracts/dex\";\nimport type { AddressType } from \"./types\";\n\n/**\n * Returns a set of DEX contracts for the given version of the router.\n * Useful for defining the set of contracts based on the API information about the router.\n * Throws if the version is not supported.\n *\n * @param {number} param0.majorVersion - The major version of the router.\n * @param {number} param0.minorVersion - The minor version of the router.\n *\n * @returns The set of contracts for the given version.\n */\nexport function dexFactory(config: {\n  majorVersion: 1;\n  minorVersion: 0;\n}): typeof DEX.v1;\nexport function dexFactory(config: {\n  majorVersion: 2;\n  minorVersion: 1;\n}): typeof DEX.v2_1;\nexport function dexFactory(config: {\n  majorVersion: 2;\n  minorVersion: 2;\n}): typeof DEX.v2_2;\nexport function dexFactory(config: {\n  majorVersion: number;\n  minorVersion: number;\n}): typeof DEX.v1 | typeof DEX.v2_1 | typeof DEX.v2_2;\nexport function dexFactory(config: {\n  majorVersion: number;\n  minorVersion: number;\n}) {\n  const { majorVersion, minorVersion } = config;\n\n  if (majorVersion === 1 && minorVersion === 0) {\n    return DEX.v1;\n  }\n\n  if (majorVersion === 2 && minorVersion === 1) {\n    return DEX.v2_1;\n  }\n\n  if (majorVersion === 2 && minorVersion === 2) {\n    return DEX.v2_2;\n  }\n\n  throw new Error(`Unsupported dex version: ${majorVersion}.${minorVersion}`);\n}\n\n/**\n * Returns an instance of the router contract for the given version and address.\n * Useful for creating a router based on the API information about the router.\n * Throws if the version is not supported.\n *\n * @param {Address | string} param0.address - The address of the router.\n * @param {number} param0.majorVersion - The major version of the router.\n * @param {number} param0.minorVersion - The minorVersion version of the router.\n *\n * @returns {Router} The instance of the router contract.\n */\nexport function routerFactory({\n  address,\n  majorVersion,\n  minorVersion,\n}: {\n  address: AddressType;\n  majorVersion: number;\n  minorVersion: number;\n}) {\n  const { Router } = dexFactory({ majorVersion, minorVersion });\n\n  return Router.create(address);\n}\n"],"mappings":";;;;;AA6BO,SAAS,WAAW,QAGxB;AACD,QAAM,EAAE,cAAc,aAAa,IAAI;AAEvC,MAAI,iBAAiB,KAAK,iBAAiB,GAAG;AAC5C,WAAO,IAAI;AAAA,EACb;AAEA,MAAI,iBAAiB,KAAK,iBAAiB,GAAG;AAC5C,WAAO,IAAI;AAAA,EACb;AAEA,MAAI,iBAAiB,KAAK,iBAAiB,GAAG;AAC5C,WAAO,IAAI;AAAA,EACb;AAEA,QAAM,IAAI,MAAM,4BAA4B,YAAY,IAAI,YAAY,EAAE;AAC5E;AAaO,SAAS,cAAc;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AACF,GAIG;AACD,QAAM,EAAE,OAAO,IAAI,WAAW,EAAE,cAAc,aAAa,CAAC;AAE5D,SAAO,OAAO,OAAO,OAAO;AAC9B;","names":[]}