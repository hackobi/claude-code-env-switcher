"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RouterApiService = void 0;
const tx_status_1 = require("../../../../../core/blockchain/web3-public-service/web3-public/models/tx-status");
const injector_1 = require("../../../../../core/injector/injector");
class RouterApiService {
    static async getQuote(params) {
        return injector_1.Injector.httpClient.get(`${this.ROUTER_ENDPOINT}/quote`, {
            params: { ...params, partnerId: this.partnerId }
        });
    }
    static async getSwapTx(params) {
        return injector_1.Injector.httpClient.post(`${this.ROUTER_ENDPOINT}/transaction`, params);
    }
    static async getTxStatus(data) {
        const txData = await injector_1.Injector.httpClient.get(`${this.ROUTER_ENDPOINT}/status`, {
            params: {
                srcTxHash: data.srcTxHash
            }
        });
        if (txData.status === 'completed') {
            return {
                hash: txData.dest_tx_hash,
                status: tx_status_1.TX_STATUS.SUCCESS
            };
        }
        return {
            hash: null,
            status: tx_status_1.TX_STATUS.PENDING
        };
    }
}
exports.RouterApiService = RouterApiService;
RouterApiService.ROUTER_ENDPOINT = 'https://api-beta.pathfinder.routerprotocol.com/api/v2';
RouterApiService.partnerId = 159;
//# sourceMappingURL=router-api-service.js.map