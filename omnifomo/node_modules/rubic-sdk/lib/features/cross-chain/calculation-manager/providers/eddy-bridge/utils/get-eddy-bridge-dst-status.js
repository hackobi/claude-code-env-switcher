"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEddyBridgeDstSwapStatus = getEddyBridgeDstSwapStatus;
const tx_status_1 = require("../../../../../../core/blockchain/web3-public-service/web3-public/models/tx-status");
const injector_1 = require("../../../../../../core/injector/injector");
async function getEddyBridgeDstSwapStatus(data) {
    try {
        const srcRes = await injector_1.Injector.httpClient.get(`https://zetachain.blockpi.network/lcd/v1/public/zeta-chain/crosschain/inTxHashToCctx/${data.srcTxHash}`);
        const cctxHash = srcRes.inTxHashToCctx.cctx_index[0];
        const cctxRes = await injector_1.Injector.httpClient.get(`
        https://zetachain.blockpi.network/lcd/v1/public/zeta-chain/crosschain/cctx/${cctxHash}
    `);
        const dstTxHash = cctxRes.CrossChainTx?.outbound_tx_params?.[0]?.outbound_tx_hash;
        if (dstTxHash) {
            return {
                hash: dstTxHash,
                status: tx_status_1.TX_STATUS.SUCCESS
            };
        }
        return {
            hash: null,
            status: tx_status_1.TX_STATUS.PENDING
        };
    }
    catch {
        return {
            hash: null,
            status: tx_status_1.TX_STATUS.PENDING
        };
    }
}
//# sourceMappingURL=get-eddy-bridge-dst-status.js.map