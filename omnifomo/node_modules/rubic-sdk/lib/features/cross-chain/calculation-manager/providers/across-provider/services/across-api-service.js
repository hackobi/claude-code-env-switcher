"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AcrossApiService = void 0;
const tx_status_1 = require("../../../../../../core/blockchain/web3-public-service/web3-public/models/tx-status");
const injector_1 = require("../../../../../../core/injector/injector");
class AcrossApiService {
    static async getFeeQuote(params) {
        return injector_1.Injector.httpClient.get(`${AcrossApiService.endpoint}/suggested-fees`, {
            params: {
                ...params
            }
        });
    }
    static async getTxStatus(originChainId, depositId) {
        const data = await injector_1.Injector.httpClient.get(`${AcrossApiService.endpoint}/deposit/status`, {
            params: {
                originChainId,
                depositId
            }
        });
        if (data.status === 'filled' && data?.fillTx) {
            return {
                hash: data.fillTx,
                status: tx_status_1.TX_STATUS.SUCCESS
            };
        }
        if (data.status === 'expired') {
            return {
                hash: null,
                status: tx_status_1.TX_STATUS.REVERT
            };
        }
        return {
            hash: null,
            status: tx_status_1.TX_STATUS.PENDING
        };
    }
}
exports.AcrossApiService = AcrossApiService;
AcrossApiService.endpoint = 'https://app.across.to/api';
//# sourceMappingURL=across-api-service.js.map